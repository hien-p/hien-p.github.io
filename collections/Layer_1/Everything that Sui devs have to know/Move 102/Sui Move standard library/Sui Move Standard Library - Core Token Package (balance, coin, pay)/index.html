<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><link href=https://hien-p.github.io/hari-docs/collections/Layer_1/Everything%20that%20Sui%20devs%20have%20to%20know/Move%20102/Sui%20Move%20standard%20library/Sui%20Move%20Standard%20Library%20-%20Core%20Token%20Package%20%28balance%2C%20coin%2C%20pay%29/ rel=canonical><link rel="shortcut icon" href=../../../../../../img/favicon.ico><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>Sui Move Standard Library - Core Token Package (balance, coin, pay) - Harry's Blog</title><link href=../../../../../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../../../../../css/font-awesome-4.7.0.css rel=stylesheet><link href=../../../../../../css/base.css rel=stylesheet><link rel=stylesheet href=../../../../../../css/highlight.css><link href=../../../../../../css/custom.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><!-- mkdocs_windmill/partials/scripts.html --><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-S5RMPC6VZL"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-S5RMPC6VZL');
</script><script src=../../../../../../js/jquery-3.2.1.min.js></script><script src=../../../../../../js/bootstrap-3.3.7.min.js></script><script src=../../../../../../js/highlight.pack.js></script><base target=_top><script>
      var base_url = '../../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Sui Move Standard Library - Core Token Package (balance, coin, pay)", url: "#_top", children: [
          ]},
          {title: "1. Module Description", url: "#1-module-description", children: [
          ]},
          {title: "2. Method Description", url: "#2-method-description", children: [
              {title: "2.1 sui::balance", url: "#21-suibalance" },
              {title: "2.2 sui::coin", url: "#22-suicoin" },
              {title: "2.3 sui::coin (Regulated currency \u0026amp; deny list functions)", url: "#23-suicoin-regulated-currency-deny-list-functions" },
              {title: "2.4 sui::pay", url: "#24-suipay" },
          ]},
          {title: "3. Example", url: "#3-example", children: [
          ]},
        ];

    </script><script src=../../../../../../js/base.js></script><script src=../../../../../../search/main.js></script><meta property=og:title content="Harry's Blog - Developer Documentation Technical Writer 🚀"><meta property=og:description content="Học Blockchain dễ hiểu, dành cho dev Web3"><meta property=og:image content=https://harriweb3.dev/assets/facebook_cover.png><meta property=og:type content=website><meta content=https://harriweb3.dev/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Harry's Blog - Developer Documentation Technical Writer 🚀 "><meta name=twitter:description content="Học Blockchain dễ hiểu, dành cho dev Web3 mới vào nghề!"><meta name=twitter:image content=https://harriweb3.dev/assets/facebook_cover.png><link rel=stylesheet href=../../../../../../css/extra.css></head> <body> <script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script> <div class="container-fluid wm-page-content"> <a name=_top></a> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../../../Passkey/intro_passkey/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../../../Passkey/intro_passkey/ class="btn btn-xs btn-link"> Intro passkey </a> </div> <div class=wm-article-nav> <a href=../Illustration%20of%20type%20name/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../Illustration%20of%20type%20name/ class="btn btn-xs btn-link"> Illustration of Sui Move standard library - type name (type_name) </a> </div> </div> <h1 id=sui-move-standard-library-core-token-package-balance-coin-pay>Sui Move Standard Library - Core Token Package (balance, coin, pay)<a class=headerlink href=#sui-move-standard-library-core-token-package-balance-coin-pay title="Permanent link">&para;</a></h1> <p>This article analyzes the three core components of Sui Move tokens: balance (value storage layer), coin (token operation layer), and pay (payment abstraction layer). Through principle diagrams and code examples, the design principles of the three-layer architecture are revealed.</p> <h1 id=1-module-description>1. Module Description<a class=headerlink href=#1-module-description title="Permanent link">&para;</a></h1> <table> <thead> <tr> <th>Modules</th> <th>Tiers</th> <th>Function</th> <th>Scenario</th> </tr> </thead> <tbody> <tr> <td><code>sui::balance</code></td> <td>Value storage layer (underlying storage)</td> <td>Manage the mapping relationship <strong>between addresses and token balances</strong></td> <td>Balance query, token ownership verification</td> </tr> <tr> <td><code>sui::coin</code></td> <td>Token operation layer (basic operation)</td> <td>Focus on <strong>the life cycle management of the token itself</strong>, including: token creation, destruction and metadata management</td> <td>Custom token issuance and token metadata maintenance</td> </tr> <tr> <td><code>sui::pay</code></td> <td>Payment abstraction layer (high-level encapsulation)</td> <td>Provides <strong>compound operations for token payment</strong>, including: single or batch token splitting, merging, transfer, etc.</td> <td>Batch transfer, split account logic, airdrop etc.</td> </tr> </tbody> </table> <p>The balance.move: <a href=https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/balance.move>https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/balance.move</a></p> <p>The Coin.move: <a href=https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/coin.move>https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/coin.move</a></p> <p>The Pay.move: <a href=https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/pay.move>https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/pay.move</a></p> <p><img alt src=https://img.learnblockchain.cn/attachments/2025/06/KkT4imET685d6769f311e.png></p> <h1 id=2-method-description>2. Method Description<a class=headerlink href=#2-method-description title="Permanent link">&para;</a></h1> <h2 id=21-suibalance>2.1 <code>sui::balance</code><a class=headerlink href=#21-suibalance title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Classification</th> <th>Function Name</th> <th>Parameter</th> <th>Functional Description</th> </tr> </thead> <tbody> <tr> <td><strong>Balance Operations</strong></td> <td><code>zero</code></td> <td>No parameters</td> <td>Create a balance object with a quantity of zero</td> </tr> <tr> <td></td> <td><code>value</code></td> <td><code>self: &amp;Balance&lt;T&gt;</code></td> <td>Get the amount stored in the balance object</td> </tr> <tr> <td></td> <td><code>join</code></td> <td><code>self: &amp;mut Balance&lt;T&gt;, balance: Balance&lt;T&gt;</code></td> <td>Merge two balance objects</td> </tr> <tr> <td></td> <td><code>split</code></td> <td><code>self: &amp;mut Balance&lt;T&gt;, value: u64</code></td> <td>Separate the specified number of sub-balance objects from the balance object</td> </tr> <tr> <td></td> <td><code>withdraw_all</code></td> <td><code>self: &amp;mut Balance&lt;T&gt;</code></td> <td>Withdraw all balances, remaining balance is 0</td> </tr> <tr> <td></td> <td><code>destroy_zero</code></td> <td><code>balance: Balance&lt;T&gt;</code></td> <td>Destroys the balance object with zero quantity</td> </tr> <tr> <td><strong>Supply Operation</strong></td> <td><code>create_supply</code></td> <td><code>_: T</code></td> <td>Create new supply for type T</td> </tr> <tr> <td></td> <td><code>supply_value</code></td> <td><code>supply: &amp;Supply&lt;T&gt;</code></td> <td>Get the value of supply</td> </tr> <tr> <td></td> <td><code>increase_supply</code></td> <td><code>self: &amp;mut Supply&lt;T&gt;, value: u64</code></td> <td>Increases the supply and creates a corresponding amount of balance</td> </tr> <tr> <td></td> <td><code>decrease_supply</code></td> <td><code>self: &amp;mut Supply&lt;T&gt;, balance: Balance&lt;T&gt;</code></td> <td>Destroy balances and reduce supply</td> </tr> <tr> <td></td> <td><code>destroy_supply</code></td> <td><code>self: Supply&lt;T&gt;</code></td> <td>Destroys supply, preventing further minting and burning</td> </tr> </tbody> </table> <h2 id=22-suicoin>2.2 <code>sui::coin</code><a class=headerlink href=#22-suicoin title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Classification</th> <th>Function Name</th> <th>Parameter</th> <th>Functional Description</th> </tr> </thead> <tbody> <tr> <td><strong>Supply Operation</strong></td> <td><code>total_supply</code></td> <td><code>cap: &amp;TreasuryCap&lt;T&gt;</code></td> <td>Returns the total number of tokens in circulation</td> </tr> <tr> <td></td> <td><code>treasury_into_supply</code></td> <td><code>treasury: TreasuryCap&lt;T&gt;</code></td> <td>Unpack TreasuryCap to obtain Supply (irreversible)</td> </tr> <tr> <td></td> <td><code>supply_immut</code></td> <td><code>treasury: &amp;TreasuryCap&lt;T&gt;</code></td> <td>Get an immutable reference to the treasury’s Supply</td> </tr> <tr> <td></td> <td><code>supply_mut</code></td> <td><code>treasury: &amp;mut TreasuryCap&lt;T&gt;</code></td> <td>Get a mutable reference to the treasury’s Supply</td> </tr> <tr> <td><strong>Balance Operations</strong></td> <td><code>value</code></td> <td><code>self: &amp;Coin&lt;T&gt;</code></td> <td>Get the value of the coin</td> </tr> <tr> <td></td> <td><code>balance</code></td> <td><code>coin: &amp;Coin&lt;T&gt;</code></td> <td>Get an immutable reference to the coin’s balance</td> </tr> <tr> <td></td> <td><code>balance_mut</code></td> <td><code>coin: &amp;mut Coin&lt;T&gt;</code></td> <td>Get a mutable reference to the coin’s balance</td> </tr> <tr> <td></td> <td><code>from_balance</code></td> <td><code>balance: Balance&lt;T&gt;, ctx: &amp;mut TxContext</code></td> <td>Wrap the balance into transferable coins</td> </tr> <tr> <td></td> <td><code>into_balance</code></td> <td><code>coin: Coin&lt;T&gt;</code></td> <td>Deconstruct coin wrapper and preserve balance</td> </tr> <tr> <td></td> <td><code>take</code></td> <td><code>balance: &amp;mut Balance&lt;T&gt;, value: u64, ctx: &amp;mut TxContext</code></td> <td>Withdraw coins of specified value from balance</td> </tr> <tr> <td></td> <td><code>put</code></td> <td><code>balance: &amp;mut Balance&lt;T&gt;, coin: Coin&lt;T&gt;</code></td> <td>Add coins to balance</td> </tr> <tr> <td><strong>Token Operations</strong></td> <td><code>join</code></td> <td><code>self: &amp;mut Coin&lt;T&gt;, c1: Coin&lt;T&gt;</code></td> <td>Merge two coins</td> </tr> <tr> <td></td> <td><code>split</code></td> <td><code>self: &amp;mut Coin&lt;T&gt;, split_amount: u64, ctx: &amp;mut TxContext</code></td> <td>Split the coin into two parts</td> </tr> <tr> <td></td> <td><code>divide_into_n</code></td> <td><code>self: &amp;mut Coin&lt;T&gt;, n: u64, ctx: &amp;mut TxContext</code></td> <td>Divide coin equally into n–1 coins</td> </tr> <tr> <td></td> <td><code>zero</code></td> <td><code>ctx: &amp;mut TxContext</code></td> <td>Create a coin with zero value</td> </tr> <tr> <td></td> <td><code>destroy_zero</code></td> <td><code>c: Coin&lt;T&gt;</code></td> <td>Destroy coins with zero value</td> </tr> <tr> <td></td> <td><code>mint</code></td> <td><code>cap: &amp;mut TreasuryCap&lt;T&gt;, value: u64, ctx: &amp;mut TxContext</code></td> <td>Mint coins of specified value</td> </tr> <tr> <td></td> <td><code>mint_balance</code></td> <td><code>cap: &amp;mut TreasuryCap&lt;T&gt;, value: u64</code></td> <td>Mint a balance of specified value</td> </tr> <tr> <td></td> <td><code>burn</code></td> <td><code>cap: &amp;mut TreasuryCap&lt;T&gt;, c: Coin&lt;T&gt;</code></td> <td>Destroy coins and reduce total supply</td> </tr> <tr> <td></td> <td><code>create_currency</code></td> <td><code>witness: T, decimals: u8, symbol: vector&lt;u8&gt;, name: vector&lt;u8&gt;, description: vector&lt;u8&gt;, icon_url: Option&lt;u8&gt;, ctx: &amp;mut TxContext</code></td> <td>Create a new currency type</td> </tr> <tr> <td></td> <td><code>mint_and_transfer</code></td> <td><code>c: &amp;mut TreasuryCap&lt;T&gt;, amount: u64, recipient: address, ctx: &amp;mut TxContext</code></td> <td>Mint coins and transfer to recipients</td> </tr> <tr> <td><strong>Metadata Operations</strong></td> <td><code>update_name</code></td> <td><code>t_treasury: &amp;mut TreasuryCap&lt;T&gt;, metadata: &amp;mut CoinMetadata&lt;T&gt;, name: string::String</code></td> <td>Update the name of the coin</td> </tr> <tr> <td></td> <td><code>update_symbol</code></td> <td><code>t_treasury: &amp;mut TreasuryCap&lt;T&gt;, metadata: &amp;mut CoinMetadata&lt;T&gt;, symbol: ascii::String</code></td> <td>Update coin symbol</td> </tr> <tr> <td></td> <td><code>update_description</code></td> <td><code>t_treasury: &amp;mut TreasuryCap&lt;T&gt;, metadata: &amp;mut CoinMetadata&lt;T&gt;, description: string::String</code></td> <td>Update coin description</td> </tr> <tr> <td></td> <td><code>update_icon_url</code></td> <td><code>t_treasury: &amp;mut TreasuryCap&lt;T&gt;, metadata: &amp;mut CoinMetadata&lt;T&gt;, url: ascii::String</code></td> <td>Update the coin icon URL</td> </tr> <tr> <td></td> <td><code>get_decimals</code></td> <td><code>metadata: &amp;CoinMetadata&lt;T&gt;</code></td> <td>Get number of decimal places of the coin</td> </tr> <tr> <td></td> <td><code>get_name</code></td> <td><code>metadata: &amp;CoinMetadata&lt;T&gt;</code></td> <td>Get the name of the coin</td> </tr> <tr> <td></td> <td><code>get_symbol</code></td> <td><code>metadata: &amp;CoinMetadata&lt;T&gt;</code></td> <td>Get the coin symbol</td> </tr> <tr> <td></td> <td><code>get_description</code></td> <td><code>metadata: &amp;CoinMetadata&lt;T&gt;</code></td> <td>Get the description of the coin</td> </tr> <tr> <td></td> <td><code>get_icon_url</code></td> <td><code>metadata: &amp;CoinMetadata&lt;T&gt;</code></td> <td>Get the coin icon URL</td> </tr> </tbody> </table> <h2 id=23-suicoin-regulated-currency-deny-list-functions>2.3 <code>sui::coin</code> (Regulated currency &amp; deny list functions)<a class=headerlink href=#23-suicoin-regulated-currency-deny-list-functions title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Classification</th> <th>Function Name</th> <th>Parameter</th> <th>Functional Description</th> </tr> </thead> <tbody> <tr> <td><strong>Create and Migrate</strong></td> <td><code>create_regulated_currency_v2</code></td> <td><code>witness: T, decimals: u8, symbol: vector&lt;u8&gt;, name: vector&lt;u8&gt;, description: vector&lt;u8&gt;, icon_url: Option&lt;u8&gt;, allow_global_pause: bool, ctx: &amp;mut TxContext</code></td> <td>Creating a Currency with Regulatory Functions</td> </tr> <tr> <td></td> <td><code>migrate_regulated_currency_to_v2</code></td> <td><code>deny_list: &amp;mut DenyList, cap: DenyCap&lt;T&gt;, allow_global_pause: bool, ctx: &amp;mut TxContext</code></td> <td>Migrate regulated currency to v2</td> </tr> <tr> <td><strong>Blacklist Operation</strong></td> <td><code>deny_list_v2_add</code></td> <td><code>deny_list: &amp;mut DenyList, _deny_cap: &amp;mut DenyCapV2&lt;T&gt;, addr: address, ctx: &amp;mut TxContext</code></td> <td>Add an address to a deny list</td> </tr> <tr> <td></td> <td><code>deny_list_v2_remove</code></td> <td><code>deny_list: &amp;mut DenyList, _deny_cap: &amp;mut DenyCapV2&lt;T&gt;, addr: address, ctx: &amp;mut TxContext</code></td> <td>Remove an address from the deny list</td> </tr> <tr> <td></td> <td><code>deny_list_v2_contains_current_epoch</code></td> <td><code>deny_list: &amp;DenyList, addr: address, ctx: &amp;TxContext</code></td> <td>Check if current epoch's deny list contains the address</td> </tr> <tr> <td></td> <td><code>deny_list_v2_contains_next_epoch</code></td> <td><code>deny_list: &amp;DenyList, addr: address</code></td> <td>Check if next epoch's deny list contains the address</td> </tr> <tr> <td></td> <td><code>deny_list_v2_enable_global_pause</code></td> <td><code>deny_list: &amp;mut DenyList, deny_cap: &amp;mut DenyCapV2&lt;T&gt;, ctx: &amp;mut TxContext</code></td> <td>Enable global pause</td> </tr> <tr> <td></td> <td><code>deny_list_v2_disable_global_pause</code></td> <td><code>deny_list: &amp;mut DenyList, deny_cap: &amp;mut DenyCapV2&lt;T&gt;, ctx: &amp;mut TxContext</code></td> <td>Disable global pause</td> </tr> <tr> <td></td> <td><code>deny_list_v2_is_global_pause_enabled_current_epoch</code></td> <td><code>deny_list: &amp;DenyList, ctx: &amp;TxContext</code></td> <td>Check if global pause is enabled for the current epoch</td> </tr> <tr> <td></td> <td><code>deny_list_v2_is_global_pause_enabled_next_epoch</code></td> <td><code>deny_list: &amp;DenyList</code></td> <td>Check if global pause is enabled for the next epoch</td> </tr> </tbody> </table> <h2 id=24-suipay>2.4 <code>sui::pay</code><a class=headerlink href=#24-suipay title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Classification</th> <th>Function Name</th> <th>Parameter</th> <th>Functional Description</th> </tr> </thead> <tbody> <tr> <td><strong>Transfer</strong></td> <td><code>keep</code></td> <td><code>c: Coin&lt;T&gt;, ctx: &amp;TxContext</code></td> <td>Transfer coins to the sender of the current transaction</td> </tr> <tr> <td><strong>Segmentation</strong></td> <td><code>split</code></td> <td><code>coin: &amp;mut Coin&lt;T&gt;, split_amount: u64, ctx: &amp;mut TxContext</code></td> <td>Split the coin into two parts, specify the split amount</td> </tr> <tr> <td></td> <td><code>split_vec</code></td> <td><code>self: &amp;mut Coin&lt;T&gt;, split_amounts: vector&lt;u64&gt;, ctx: &amp;mut TxContext</code></td> <td>Split the coin into multiple coins, balances specified by a vector</td> </tr> <tr> <td></td> <td><code>split_and_transfer</code></td> <td><code>c: &amp;mut Coin&lt;T&gt;, amount: u64, recipient: address, ctx: &amp;mut TxContext</code></td> <td>Split specified amount of coins and send them to the recipient</td> </tr> <tr> <td></td> <td><code>divide_and_keep</code></td> <td><code>self: &amp;mut Coin&lt;T&gt;, n: u64, ctx: &amp;mut TxContext</code></td> <td>Divide the coin into n–1 coins equally, and keep the remainder</td> </tr> <tr> <td><strong>Merge</strong></td> <td><code>join</code></td> <td><code>self: &amp;mut Coin&lt;T&gt;, coin: Coin&lt;T&gt;</code></td> <td>Merge two coins (<strong>deprecated</strong>)</td> </tr> <tr> <td></td> <td><code>join_vec</code></td> <td><code>self: &amp;mut Coin&lt;T&gt;, coins: vector&lt;Coin&lt;T&gt;&gt;</code></td> <td>Merge all coins in the vector into the main coin</td> </tr> <tr> <td></td> <td><code>join_vec_and_transfer</code></td> <td><code>coins: vector&lt;Coin&lt;T&gt;&gt;, receiver: address</code></td> <td>Combine the coins in the vector and transfer them to the recipient</td> </tr> </tbody> </table> <h1 id=3-example>3. Example<a class=headerlink href=#3-example title="Permanent link">&para;</a></h1> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>module cookbook::aig_token {
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    use std::string::{Self, String};
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    use std::ascii;
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    use sui::coin::{Self, TreasuryCap};
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    use sui::balance::{Self, Balance};
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    use sui::url::{Self, Url};
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    use sui::event;
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    public struct EventMint has copy, drop {
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        sender: address,
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>        amount: u64,
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>        coin_left: u64
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    }
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>    public struct EventAirdrop has copy, drop {
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>        method: String,
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>        sender: address,
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>        amount: u64
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>    }
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>    public struct EventCoinMeta has copy, drop {
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>        decimals: u8,
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>        symbol: ascii::String,
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a>        name: String,
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>        description: String,
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>        icon_url: Option&lt;Url&gt;,
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>    }
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>    public struct EventTotalSupply has copy, drop {
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a>        total_supply: u64
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a>    }
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a>    public struct Vault has key {
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a>        id: UID,
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a>        balance: Balance&lt;AIG_TOKEN&gt;,
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a>    }
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a>    public struct AIG_TOKEN has drop {}
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a>    fun init(
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a>        witness: AIG_TOKEN,
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a>        ctx: &amp;mut TxContext
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a>    ) {
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a>        let decimals = 3;
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a>        let symbol = b&quot;AIG&quot;;
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a>        let name = b&quot;AIG Token&quot;;
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a>        let description = b&quot;AIG Token is a token that is used to incentivize the community to achieve the goals of the AI Goal.&quot;;
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a>        let url = url::new_unsafe_from_bytes(b&quot;https://ai-goal.vercel.app/&quot;);
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a>        let (treasury_cap, metadata) = coin::create_currency&lt;AIG_TOKEN&gt;(
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a>            witness,
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a>            decimals,
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a>            symbol,
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a>            name,
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a>            description,
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a>            option::some(url),
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a>            ctx
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a>        );
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a>        event::emit(
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a>            EventCoinMeta {
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a>                decimals: coin::get_decimals(&amp;metadata),
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a>                symbol: coin::get_symbol(&amp;metadata),
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a>                name: coin::get_name(&amp;metadata),
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a>                description: coin::get_description(&amp;metadata),
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a>                icon_url: option::some(url),
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a>            }
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a>        );
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a>        transfer::public_freeze_object(metadata);
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a>        transfer::public_transfer(treasury_cap, ctx.sender());
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74 href=#__codelineno-0-74></a>        transfer::share_object(
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75 href=#__codelineno-0-75></a>            Vault {
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76 href=#__codelineno-0-76></a>                id: object::new(ctx),
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77 href=#__codelineno-0-77></a>                balance: balance::zero(),
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78 href=#__codelineno-0-78></a>            }
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79 href=#__codelineno-0-79></a>        );
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80 href=#__codelineno-0-80></a>    }
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81 href=#__codelineno-0-81></a>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82 href=#__codelineno-0-82></a>    public(package) fun airdrop(
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83 href=#__codelineno-0-83></a>        vault: &amp;mut Vault,
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84 href=#__codelineno-0-84></a>        amount: u64,
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85 href=#__codelineno-0-85></a>        method: vector&lt;u8&gt;,
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86 href=#__codelineno-0-86></a>        ctx: &amp;mut TxContext
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87 href=#__codelineno-0-87></a>    ) {
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88 href=#__codelineno-0-88></a>        let sender = ctx.sender();
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89 href=#__codelineno-0-89></a>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90 href=#__codelineno-0-90></a>        let mut balance_drop = balance::split(&amp;mut vault.balance, amount);
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91 href=#__codelineno-0-91></a>        let coin_drop = coin::take(&amp;mut balance_drop, amount, ctx);
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92 href=#__codelineno-0-92></a>        transfer::public_transfer(coin_drop, sender);
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93 href=#__codelineno-0-93></a>        balance::destroy_zero(balance_drop);
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94 href=#__codelineno-0-94></a>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95 href=#__codelineno-0-95></a>        event::emit(
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96 href=#__codelineno-0-96></a>            EventAirdrop {
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97 href=#__codelineno-0-97></a>                method: string::utf8(method),
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98 href=#__codelineno-0-98></a>                sender,
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99 href=#__codelineno-0-99></a>                amount,
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100 href=#__codelineno-0-100></a>            }
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101 href=#__codelineno-0-101></a>        );
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102 href=#__codelineno-0-102></a>    }
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103 href=#__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104 href=#__codelineno-0-104></a>    public fun mint_balance(
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105 href=#__codelineno-0-105></a>        treasury_cap: &amp;mut TreasuryCap&lt;AIG_TOKEN&gt;,
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106 href=#__codelineno-0-106></a>        vault: &amp;mut Vault,
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107 href=#__codelineno-0-107></a>        amount: u64,
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108 href=#__codelineno-0-108></a>        ctx: &amp;mut TxContext
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109 href=#__codelineno-0-109></a>    ) {
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110 href=#__codelineno-0-110></a>        let balance_minted = coin::mint_balance(treasury_cap, amount);
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111 href=#__codelineno-0-111></a>        balance::join(&amp;mut vault.balance, balance_minted);
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112 href=#__codelineno-0-112></a>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113 href=#__codelineno-0-113></a>        event::emit(
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114 href=#__codelineno-0-114></a>            EventMint {
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115 href=#__codelineno-0-115></a>                sender: ctx.sender(),
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116 href=#__codelineno-0-116></a>                amount: amount,
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117 href=#__codelineno-0-117></a>                coin_left: balance::value(&amp;vault.balance)
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118 href=#__codelineno-0-118></a>            }
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119 href=#__codelineno-0-119></a>        );
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120 href=#__codelineno-0-120></a>    }
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121 href=#__codelineno-0-121></a>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122 href=#__codelineno-0-122></a>    #[allow(lint(self_transfer))]
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123 href=#__codelineno-0-123></a>    public fun mint_coin(
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124 href=#__codelineno-0-124></a>        treasury_cap: &amp;mut TreasuryCap&lt;AIG_TOKEN&gt;,
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125 href=#__codelineno-0-125></a>        amount: u64,
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126 href=#__codelineno-0-126></a>        ctx: &amp;mut TxContext
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127 href=#__codelineno-0-127></a>    ) {
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128 href=#__codelineno-0-128></a>        let coin_minted = coin::mint(treasury_cap, amount, ctx);
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129 href=#__codelineno-0-129></a>        transfer::public_transfer(coin_minted, ctx.sender());
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130 href=#__codelineno-0-130></a>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131 href=#__codelineno-0-131></a>        coin::mint_and_transfer(
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132 href=#__codelineno-0-132></a>            treasury_cap,
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133 href=#__codelineno-0-133></a>            amount,
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134 href=#__codelineno-0-134></a>            ctx.sender(),
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135 href=#__codelineno-0-135></a>            ctx
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136 href=#__codelineno-0-136></a>        );
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137 href=#__codelineno-0-137></a>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138 href=#__codelineno-0-138></a>        event::emit(
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139 href=#__codelineno-0-139></a>            EventTotalSupply {
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140 href=#__codelineno-0-140></a>                total_supply: coin::total_supply(treasury_cap)
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141 href=#__codelineno-0-141></a>            }
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142 href=#__codelineno-0-142></a>        )
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143 href=#__codelineno-0-143></a>    }
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144 href=#__codelineno-0-144></a>}
</span></code></pre></div> <br> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../../../Passkey/intro_passkey/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../../../Passkey/intro_passkey/ class="btn btn-xs btn-link"> Intro passkey </a> </div> <div class=wm-article-nav> <a href=../Illustration%20of%20type%20name/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../Illustration%20of%20type%20name/ class="btn btn-xs btn-link"> Illustration of Sui Move standard library - type name (type_name) </a> </div> </div> <br> </div> <div class=giscus-wrapper> <div class=giscus></div> <script src=https://giscus.app/client.js data-repo=hien-p/hari-docs data-repo-id=R_kgDOPQrn9w data-category=Announcements data-category-id=DIC_kwDOPQrn984CtVCd data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async>
  </script> </div> <!-- <footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer> --> </body> </html>