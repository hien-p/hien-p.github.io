<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><link href=https://hien-p.github.io/hari-docs/collections/Layer_1/Everything%20that%20Sui%20devs%20have%20to%20know/Move%20101/move_101_module_3/ rel=canonical><link rel="shortcut icon" href=../../../../../img/favicon.ico><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>Advanced Smart Contract ‚Äì Modules, Entry Functions &amp; Practice - Harry's Blog</title><link href=../../../../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../../../../css/font-awesome-4.7.0.css rel=stylesheet><link href=../../../../../css/base.css rel=stylesheet><link rel=stylesheet href=../../../../../css/highlight.css><link href=../../../../../css/custom.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><!-- mkdocs_windmill/partials/scripts.html --><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-S5RMPC6VZL"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-S5RMPC6VZL');
</script><script src=../../../../../js/jquery-3.2.1.min.js></script><script src=../../../../../js/bootstrap-3.3.7.min.js></script><script src=../../../../../js/highlight.pack.js></script><base target=_top><script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Advanced Smart Contract \u2013 Modules, Entry Functions \u0026amp; Practice", url: "#_top", children: [
          ]},
          {title: "N\u1ed9i dung ch\u00ednh:", url: "#noi-dung-chinh", children: [
          ]},
          {title: "1. Review l\u1ea1i n\u1ed9i dung h\u1ecdc tu\u1ea7n tr\u01b0\u1edbc", url: "#1-review-lai-noi-dung-hoc-tuan-truoc", children: [
          ]},
          {title: "2. V\u1eady package l\u00e0 g\u00ec ?", url: "#2-vay-package-la-gi", children: [
              {title: "2.1 Package Layout", url: "#21-package-layout" },
              {title: "2.2 Manifest Structure( Move.toml ): Config file trong sui move contract", url: "#22-manifest-structure-movetoml-config-file-trong-sui-move-contract" },
          ]},
          {title: "3. Modules trong Sui l\u00e0 g\u00ec ?", url: "#3-modules-trong-sui-la-gi", children: [
              {title: "3.1 T\u1eeb kho\u00e1 use - c\u00e1ch \u0111\u1ec3 import b\u1ea5t k\u1ef3 module", url: "#31-tu-khoa-use-cach-e-import-bat-ky-module" },
          ]},
          {title: "4. \u200bT\u00ecm hi\u1ec3u Entry Function \u2013 c\u00e1ch t\u01b0\u01a1ng t\u00e1c v\u1edbi contract th\u00f4ng qua call", url: "#4-tim-hieu-entry-function-cach-tuong-tac-voi-contract-thong-qua-call", children: [
              {title: "4.1 S\u1ef1 kh\u00e1c bi\u1ec7t gi\u1eefa public v\u00e0 entry trong Sui Move", url: "#41-su-khac-biet-giua-public-va-entry-trong-sui-move" },
              {title: "4.2 Rule r\u00e0ng bu\u1ed9c ri\u00eang c\u1ee7a Sui \u0111\u1ed1i v\u1edbi entry", url: "#42-rule-rang-buoc-rieng-cua-sui-oi-voi-entry" },
          ]},
        ];

    </script><script src=../../../../../js/base.js></script><script src=../../../../../search/main.js></script><meta property=og:title content="Harry's Blog - Developer Documentation Technical Writer üöÄ"><meta property=og:description content="H·ªçc Blockchain d·ªÖ hi·ªÉu, d√†nh cho dev Web3"><meta property=og:image content=https://harriweb3.dev/assets/facebook_cover.png><meta property=og:type content=website><meta content=https://harriweb3.dev/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Harry's Blog - Developer Documentation Technical Writer üöÄ "><meta name=twitter:description content="H·ªçc Blockchain d·ªÖ hi·ªÉu, d√†nh cho dev Web3 m·ªõi v√†o ngh·ªÅ!"><meta name=twitter:image content=https://harriweb3.dev/assets/facebook_cover.png><link rel=stylesheet href=../../../../../css/extra.css></head> <body> <script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script> <div class="container-fluid wm-page-content"> <a name=_top></a> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../move_101_module_4/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../move_101_module_4/ class="btn btn-xs btn-link"> N·ªôi dung cho Module 4 - move 101 </a> </div> <div class=wm-article-nav> <a href=../move_101_module_2/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../move_101_module_2/ class="btn btn-xs btn-link"> Move 101 module 2 </a> </div> </div> <h1 id=advanced-smart-contract-modules-entry-functions-practice>Advanced Smart Contract ‚Äì Modules, Entry Functions &amp; Practice<a class=headerlink href=#advanced-smart-contract-modules-entry-functions-practice title="Permanent link">&para;</a></h1> <p><img alt src="https://images.lumacdn.com/cdn-cgi/image/format=auto,fit=cover,dpr=2,background=white,quality=75,width=300,height=300/event-covers/98/db4a428f-e07b-4685-85f6-116d26448d3a.png"></p> <p>link event: </p> <h1 id=noi-dung-chinh>N·ªôi dung ch√≠nh:<a class=headerlink href=#noi-dung-chinh title="Permanent link">&para;</a></h1> <ul> <li>‚ÄãHi·ªÉu r√µ vai tr√≤ v√† c·∫•u tr√∫c c·ªßa Module trong Move</li> </ul> <p>‚Äã* T√¨m hi·ªÉu Entry Function ‚Äì c√°ch t∆∞∆°ng t√°c v·ªõi contract th√¥ng qua call</p> <p>‚Äã* T·ªï ch·ª©c project chu·∫©n theo c·∫•u tr√∫c Move.toml v√† sources/</p> <p>‚Äã* Vi·∫øt th√™m c√°c ch·ª©c nƒÉng n√¢ng cao cho token v√† NFT ƒë√£ h·ªçc</p> <h1 id=1-review-lai-noi-dung-hoc-tuan-truoc>1. Review l·∫°i n·ªôi dung h·ªçc tu·∫ßn tr∆∞·ªõc<a class=headerlink href=#1-review-lai-noi-dung-hoc-tuan-truoc title="Permanent link">&para;</a></h1> <p>Slides xem l·∫°i bu·ªïi 2 nghe: <a href=https://x.tusky.io/Zoo9i>https://x.tusky.io/Zoo9i</a> </p> <h1 id=2-vay-package-la-gi>2. V·∫≠y package l√† g√¨ ?<a class=headerlink href=#2-vay-package-la-gi title="Permanent link">&para;</a></h1> <p>Theo ƒë·ªãnh nghƒ©a t·ª´ documentation:</p> <blockquote> <p>Packages are immutable. After you publish a package object on chain to a network, it lives there forever. You cannot directly change the code of an on-chain</p> </blockquote> <p>Nghƒ©a l√† m·ªôt package l√† khi ƒë∆∞·ª£c publish tr√™n Blockchain v√† ƒë∆∞·ª£c x√°c ƒë·ªãnh l√† m·ªôt address. Trong package c√≥ th·ªÉ ch·ª©a m·ªôt ho·∫∑c nhi·ªÅu modules.</p> <p><img alt src=../../img/move_101_img/code_org_move.png></p> <p>Ri√™ng ph·∫ßn Package, m√¨nh s·∫Ω chia nh·ªè th√†nh t·ª´ng ph·∫ßn l√†: </p> <ul> <li>Package Layout: C·∫•u tr√∫c c·ªßa package</li> <li>Published Package: C√°c package ƒë√£ ƒë∆∞·ª£c published b·∫°n c·∫ßn l∆∞u √Ω</li> <li>Manifest Structure( Move.toml ): Config file trong sui move contract</li> <li>Artifact</li> </ul> <h2 id=21-package-layout>2.1 Package Layout<a class=headerlink href=#21-package-layout title="Permanent link">&para;</a></h2> <p>M·ªôt package s·∫Ω ch·ª©a nhi·ªÅu Modules. Trong t·ª´ng modules ƒë√≥ bao g·ªìm functions, types...</p> <p>ƒê√¢y l√† v√≠ d·ª• minh ho·∫° cho m·ªôt package layout:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>package HELLO_WORLD
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    module a
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        struct A1
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>        fun hello_world()
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    module b
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>        struct B1
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>        fun hello_package()
</span></code></pre></div> <p>ƒê·ªÉ t·∫°o package m·ªõi, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng l·ªánh CLI Sui move new <name package>. M·ª•c ƒë√≠ch c·ªßa Move package system l√† ƒë·ªÉ cho ph√©p c√°c developer c√≥ th·ªÉ define d·ªÖ d√†ng n∆°i ch·ª©a c√°c move code, b·∫°n c√≥ th·ªÉ import v√† use packages ·ªü file move code kh√°c.</p> <h2 id=22-manifest-structure-movetoml-config-file-trong-sui-move-contract>2.2 Manifest Structure( Move.toml ): Config file trong sui move contract<a class=headerlink href=#22-manifest-structure-movetoml-config-file-trong-sui-move-contract title="Permanent link">&para;</a></h2> <p>M·ªôt th∆∞ m·ª•c source move package s·∫Ω lu√¥n c√≥ <code>Move.toml</code> l√† package manifest file bao g·ªìm c√°c metadata cho package ƒë√≥. File n√†y v√¥ c√πng quan tr·ªçng v√¨ n√≥ qu·∫£n l√Ω c√°c dependencies, ƒë·∫£m b·∫£o ƒë∆∞·ª£c m√¥i tr∆∞·ªùng stable cho move project c·ªßa b·∫°n v√† ƒë·ªÉ qu·∫£n l√Ω project. ƒê√¢y l√† c·∫•u tr√∫c c·ªßa m·ªôt package layout:</p> <p><img alt src="https://sui-bootcamp-2024.vercel.app/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fsui_manifest_structure.6ad20e8c.png&w=3840&q=75"></p> <p>Root c·ªßa project l√† t√™n folder move project c·ªßa b·∫°n. Trong folder s·∫Ω ch·ª©a c√°c files ƒë·ªÉ ch·∫°y move project. Tr√™n h√¨nh b·∫°n ƒë√£ th·∫•y c√°c components quan tr·ªçng <strong>Move.toml, Move.lock v√† th∆∞ m·ª•c sources.</strong></p> <p>ƒê·ªëi v·ªõi <strong>Move.toml</strong> v√† <strong>Move.lock</strong> ch·ªãu tr√°ch nghi·ªám trong vi·ªác qu·∫£n l√Ω c√°c dependencies. C√≤n trong th∆∞ m·ª•c <strong>Source</strong> l√† n∆°i ta th·∫•y c√°c file module.move. C√°c file n√†y ch√≠nh l√† core logic c·ªßa move code. Ngo√†i ra, c√≤n c√≥ th∆∞ m·ª•c test. ƒê√¢y l√† n∆°i ƒë·ªÉ b·∫°n c√≥ th·ªÉ vi·∫øt test case cho move code c·ªßa b·∫°n ƒë·∫£m b·∫£o d·ª± √°n ch·∫°y nh∆∞ k√¨ v·ªçng v√† maintain ƒë∆∞·ª£c ch·∫•t l∆∞·ª£ng codebase.</p> <p>C·∫•u tr√∫c ƒë∆∞·ª£c thi·∫øt k·∫ø gi√∫p cho c√°c developer c√≥ th·ªÉ qu·∫£n l√Ω code d·ªÖ h∆°n. Tuy nhi√™n ƒë√¢y ch∆∞a honaf to√†n l√† c·∫•u tr√∫c ƒë·∫ßy ƒë·ªß. N√≥ c√≤n th√™m doc_templates v√† examples.</p> <div class="language-rust highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>Your_Move_Project</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=err>‚îú‚îÄ‚îÄ</span><span class=w> </span><span class=n>Move</span><span class=p>.</span><span class=n>toml</span><span class=w>      </span><span class=p>(</span><span class=n>required</span><span class=p>)</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=err>‚îú‚îÄ‚îÄ</span><span class=w> </span><span class=n>Move</span><span class=p>.</span><span class=n>lock</span><span class=w>      </span><span class=p>(</span><span class=n>generated</span><span class=p>)</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=err>‚îú‚îÄ‚îÄ</span><span class=w> </span><span class=n>sources</span><span class=w>        </span><span class=p>(</span><span class=n>required</span><span class=p>)</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=err>‚îú‚îÄ‚îÄ</span><span class=w> </span><span class=n>doc_templates</span><span class=w>  </span><span class=p>(</span><span class=n>optional</span><span class=p>)</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=err>‚îú‚îÄ‚îÄ</span><span class=w> </span><span class=n>examples</span><span class=w>       </span><span class=p>(</span><span class=n>optional</span><span class=p>,</span><span class=w> </span><span class=n>test</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>dev</span><span class=w> </span><span class=n>mode</span><span class=p>)</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=err>‚îî‚îÄ‚îÄ</span><span class=w> </span><span class=n>tests</span><span class=w>          </span><span class=p>(</span><span class=n>optional</span><span class=p>,</span><span class=w> </span><span class=n>test</span><span class=w> </span><span class=n>mode</span><span class=p>)</span>
</span></code></pre></div> <ul> <li>Move.toml file: ƒê√¢y l√† package manifest (m√¨nh kh√¥ng bi·∫øt d·ªãch ti·∫øng vi·ªát sao n√™n hi·ªÉu nh∆∞ package.json nh√©) ch·ª©a c√°c metadata c·∫ßn thi·∫øt cho package. C√°c th√¥ng tin trong package ƒë√≥ bao g·ªìm</li> </ul> <p><img alt src="https://sui-bootcamp-2024.vercel.app/_next/image?url=%2F_next%2Fstatic%2Fmedia%2FCode_movetoml.9c601b5d.png&w=3840&q=75"></p> <hr> <h1 id=3-modules-trong-sui-la-gi>3. Modules trong Sui l√† g√¨ ?<a class=headerlink href=#3-modules-trong-sui-la-gi title="Permanent link">&para;</a></h1> <p>·ªû Sui Move, khi khai b√°o m·ªôt smart contract, ta s·∫Ω s·ª≠ d·ª•ng t·ª´ kho√° module, gi·ªëng v·ªõi ·ªü solidity ta s·∫Ω c√≥ t·ª´ contract. ƒê√¢y l√† syntax khi khai b√°o smart contract</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>module &lt;package_name&gt;::&lt;module_name&gt; { 
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    //module code ·ªü ƒë√¢y 
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>}
</span></code></pre></div> <p>Nh∆∞ng m·ªçi ng∆∞·ªùi c√≥ th·ªÉ set up m·ªôt module th·∫ø n√†y c≈©ng ƒë∆∞·ª£c:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>module &lt;package_name&gt;::&lt;module_name&gt;;
</span></code></pre></div> <p><code>package_name</code> l√† t√™n c·ªßa package m√† b·∫°n ƒë√£ t·∫°o. V√≠ d·ª• trong l·ªánh <code>sui move new hello_world</code> th√¨ package name s·∫Ω l√† <code>hello_world</code>. C√≤n <code>module_name</code> s·∫Ω l√† c√°i t√™n module m√† b·∫°n ƒë√£ t·∫°o trong package.</p> <p>·ªû ƒë√¢y b·∫°n c≈©ng c√≥ th·ªÉ xem nh∆∞ <code>module</code> l√† th∆∞ vi·ªán con trong package.</p> <blockquote> <p>T√≠nh ch·∫•t ƒë√≥ng g√≥i (encapsulation) c·ªßa module gi√∫p cho vi·ªác ph√°t tri·ªÉn smart contract tr·ªü n√™n module h√≥a, c√≥ kh·∫£ nƒÉng k·∫øt h·ª£p linh ho·∫°t, ƒë·ªìng th·ªùi n√¢ng cao kh·∫£ nƒÉng t√°i s·ª≠ d·ª•ng m√£ ngu·ªìn v√† t√≠nh b·∫£o m·∫≠t.</p> </blockquote> <h2 id=31-tu-khoa-use-cach-e-import-bat-ky-module>3.1 T·ª´ kho√° use - c√°ch ƒë·ªÉ import b·∫•t k·ª≥ module<a class=headerlink href=#31-tu-khoa-use-cach-e-import-bat-ky-module title="Permanent link">&para;</a></h2> <p>Trong Sui move, <code>use</code> ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ import b·∫•t k√¨ module. ƒê√¢y l√† c·∫•u tr√∫c c·ªßa c√°ch s·ª≠ d·ª•ng use:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>use &lt;Address/Alias&gt;::&lt;ModuleName&gt;;
</span></code></pre></div> <p>Gi·∫£i th√≠ch v·ªÅ <code>&lt;Address/Alias&gt;</code> v√† <code>&lt;ModuleName&gt;</code>:</p> <ul> <li><code>&lt;Address/Alias&gt;</code> l√† nh·ªØng ƒë·ªãa ch·ªâ c·ªßa package c√≥ ch·ª©a nh·ªØng module m√† ta mu·ªën d√πng. Ch√∫ng ta th·ªÉ s·ª≠ d·ª•ng alias ƒë∆∞·ª£c ƒë·∫∑t trong Move.toml m√† ƒë√£ vi·∫øt ·ªü m·ª•c Package manifest. V√≠ d·ª•: </li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>[addresses]
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>sui = &quot;0x2&quot;
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a># Tr∆∞·ªõc l√† suilend = &quot;0x0&quot; nh∆∞ng gi·ªù package ƒë√£ published r·ªìi n√™n ta c√≥ th·ªÉ thay th·∫ø th√†nh
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>suilend = &quot;0xf95b06141ed4a174f239417323bde3f209b972f5930d8521ea38a52aff3a6ddf&quot;
</span></code></pre></div> <ul> <li><code>&lt;ModuleName&gt;</code> ƒë∆°n gi·∫£n ƒë·∫°i di·ªán cho t√™n c·ªßa module ƒë√≥.</li> </ul> <p>Sau ƒë√¢y l√† m·ªôt s·ªë Sui modules m√† b·∫°n s·∫Ω th∆∞·ªùng s·ª≠ d·ª•ng:</p> <div class="language-rust highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=p>#</span><span class=w> </span><span class=n>Module</span><span class=w> </span><span class=n>n√†y</span><span class=w> </span><span class=n>gi√∫p</span><span class=w> </span><span class=n>ch√∫ng</span><span class=w> </span><span class=n>ta</span><span class=w> </span><span class=n>x·ª≠</span><span class=w> </span><span class=n>l√Ω</span><span class=w> </span><span class=n>li√™n</span><span class=w> </span><span class=n>quan</span><span class=w> </span><span class=err>ƒë·∫ø</span><span class=n>n</span><span class=w> </span><span class=n>string</span><span class=w> </span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=k>use</span><span class=w> </span><span class=n>std</span><span class=p>::</span><span class=n>string</span><span class=p>;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/move-stdlib/sources/string.move</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=p>#</span><span class=w> </span><span class=n>Module</span><span class=w> </span><span class=n>n√†y</span><span class=w> </span><span class=n>s·∫Ω</span><span class=w> </span><span class=n>gi√∫p</span><span class=w> </span><span class=n>khi</span><span class=w> </span><span class=n>ta</span><span class=w> </span><span class=n>c·∫ßn</span><span class=w> </span><span class=n>c√°c</span><span class=w> </span><span class=n>ch·ª©c</span><span class=w> </span><span class=n>nƒÉng</span><span class=w> </span><span class=n>transfer</span><span class=w> </span><span class=n>object</span><span class=w> </span><span class=n>t·ª´</span><span class=w> </span><span class=n>m·ªôt</span><span class=w> </span><span class=n>account</span><span class=w> </span><span class=err>ƒë·∫ø</span><span class=n>n</span><span class=w> </span><span class=n>account</span><span class=w> </span><span class=n>kh√°c</span><span class=w> </span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=k>use</span><span class=w> </span><span class=n>sui</span><span class=p>::</span><span class=n>transfer</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/transfer.move</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=p>#</span><span class=w> </span><span class=n>d√≤ng</span><span class=w> </span><span class=n>d∆∞·ªõi</span><span class=w> </span><span class=err>ƒë√¢</span><span class=n>y</span><span class=w> </span><span class=n>gi√∫p</span><span class=w> </span><span class=n>cho</span><span class=w> </span><span class=n>vi·ªác</span><span class=w> </span><span class=n>t·∫°o</span><span class=w> </span><span class=n>object</span><span class=w> </span><span class=n>trong</span><span class=w> </span><span class=n>module</span><span class=p>.</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=k>use</span><span class=w> </span><span class=n>sui</span><span class=p>::</span><span class=n>object</span><span class=p>;</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/object.move</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=p>#</span><span class=w> </span><span class=err>ƒê√¢</span><span class=n>y</span><span class=w> </span><span class=n>l√†</span><span class=w> </span><span class=err>ƒë</span><span class=n>o·∫°n</span><span class=w> </span><span class=n>import</span><span class=w> </span><span class=n>t·ª´</span><span class=w> </span><span class=n>sui</span><span class=w> </span><span class=n>framework</span><span class=p>.</span><span class=w> </span><span class=n>Gi√∫p</span><span class=w> </span><span class=n>ta</span><span class=w> </span><span class=n>trong</span><span class=w> </span><span class=n>vi·ªác</span><span class=w> </span><span class=err>ƒë</span><span class=n>inh</span><span class=w> </span><span class=n>nghƒ©a</span><span class=w> </span><span class=n>c√°c</span><span class=w> </span><span class=n>th√¥ng</span><span class=w> </span><span class=n>tin</span><span class=w> </span><span class=n>c·ªßa</span><span class=w> </span><span class=n>transaction</span><span class=w> </span><span class=n>nh∆∞</span><span class=w> </span><span class=n>l√†</span><span class=w> </span><span class=err>ƒë·ªã</span><span class=n>a</span><span class=w> </span><span class=n>ch·ªâ</span><span class=w> </span><span class=n>c·ªßa</span><span class=w> </span><span class=n>sender</span><span class=p>,</span><span class=w> </span><span class=err>ƒë·ªã</span><span class=n>a</span><span class=w> </span><span class=n>ch·ªâ</span><span class=w> </span><span class=n>ng∆∞·ªùi</span><span class=w> </span><span class=n>k√Ω</span><span class=w> </span><span class=o>..</span><span class=p>.</span>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=k>use</span><span class=w> </span><span class=n>sui</span><span class=p>::</span><span class=n>tx_context</span><span class=p>;</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/tx_context.move</span>
</span></code></pre></div> <p>B√™n c·∫°nh vi·ªác import m·ªôt module, Move cho ph√©p b·∫°n import c·ª• th·ªÉ ƒë·ªëi t∆∞·ª£ng t·ª´ module bao g·ªìm functions v√† types. ƒêi·ªÅu n√†y h·ªØu √≠ch khi b·∫°n ch·ªâ mu·ªën m·ªôt ch·ª©c nƒÉng c·ªßa module, Gi·∫£m vi·ªác kh√¥ng c·∫ßn nh·ªØng ƒëo·∫°n code kh√¥ng c·∫ßn thi·∫øt. V√≠ d·ª•:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>// import function t·ª´ m·ªôt module 
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>use sui_bootcamp::module_one::learn; 
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>// import t·ª´ Learner Type 
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>use sui_bootcamp::module_one::Learner;
</span></code></pre></div> <p>Kh√¥ng ch·ªâ th·∫ø Move cho ph√©p ta import nhi·ªÅu t·ª´ module ho·∫∑c package b·∫±ng c√°ch d√πng d·∫•u <code>{}</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>// import learn function v√† Learner type t·ª´ module one
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>use sui_bootcamp::module_one::{learn, Learner};
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>// import module v√† Learner type
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>use sui_bootcamp::module_one::{Self, Learner};
</span></code></pre></div> <blockquote> <p>L√†m sao ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ tr√πng t√™n? (Name conflict) üëÄ M√¨nh ƒë·ªÉ c√°c b·∫°n t√¨m c√¢u tr·∫£ l·ªùi nh√© ho·∫∑c th·∫£o lu·∫≠n trong nh√≥m First Movers </p> </blockquote> <hr> <h1 id=4-tim-hieu-entry-function-cach-tuong-tac-voi-contract-thong-qua-call>4. ‚ÄãT√¨m hi·ªÉu Entry Function ‚Äì c√°ch t∆∞∆°ng t√°c v·ªõi contract th√¥ng qua call<a class=headerlink href=#4-tim-hieu-entry-function-cach-tuong-tac-voi-contract-thong-qua-call title="Permanent link">&para;</a></h1> <p>Tr∆∞·ªõc ti√™n b·∫°n c·∫ßn hi·ªÉu v·ªÅ <strong>Visibility (ph·∫°m vi truy c·∫≠p) trong module</strong>.</p> <p>M·ªói ph·∫ßn t·ª≠ (member) trong m·ªôt module ƒë·ªÅu c√≥ visibility t·ª©c l√† m·ª©c ƒë·ªô cho ph√©p truy c·∫≠p t·ª´ b√™n ngo√†i hay kh√¥ng? Theo m·∫∑c ƒë·ªãnh trong Sui move, t·∫•t c·∫£ c√°c member ƒë·ªÅu l√† private nghƒ©a l√† anh em ch·ªâ ƒë∆∞·ª£c d√πng trong ch√≠nh module n∆°i ch√∫ng ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a</p> <p>ƒê√¢y l√† v√≠ d·ª• cho entry function:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>entry fun mint(ctx: &amp;mut TxContext) {
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    let object = HelloWorldObject {
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>        id: object::new(ctx),
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>        text: string::utf8(b&quot;Hello World!&quot;)
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>    };
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>    transfer::public_transfer(object, tx_context::sender(ctx));
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>}
</span></code></pre></div> <p><code>&amp;mut TxContext</code>ch√≠nh l√† bi·∫øn tham chi·∫øu c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ª£c gi√∫p cho vi·ªác bi·∫øt ƒë·ªãa ch·ªâ sender l√† ai ƒë·ªÉ mint ƒë∆∞·ª£c contract n√†y. Trong ƒë√≥ h√†m transfer ·ªü cu·ªëi function kh√¥ng ph·∫£i tr·∫£ v·ªÅ b·∫•t k√¨ gi√° tr·ªã g√¨ m√† gi√∫p store object v√†o ƒë·ªãa ch·ªâ sender sau khi publish module.</p> <h2 id=41-su-khac-biet-giua-public-va-entry-trong-sui-move>4.1 S·ª± kh√°c bi·ªát gi·ªØa public v√† entry trong Sui Move<a class=headerlink href=#41-su-khac-biet-giua-public-va-entry-trong-sui-move title="Permanent link">&para;</a></h2> <p>Trong Sui Move, hai t·ª´ kh√≥a <code>public</code> v√† <code>entry</code> ƒë·ªÅu d√πng ƒë·ªÉ ƒë·ªãnh nghƒ©a h√†m c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi t·ª´ b√™n ngo√†i module. Nh∆∞ng c√°ch m√† ch√∫ng ƒë∆∞·ª£c g·ªçi, v√† ai ƒë∆∞·ª£c quy·ªÅn g·ªçi l·∫°i kh√°c nhau kh√° r√µ.</p> <p>Khi b·∫°n d√πng <code>public fun</code>, h√†m ƒë√≥ c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi t·ª´ b·∫•t k·ª≥ ƒë√¢u: trong c√πng module, t·ª´ module kh√°c trong c√πng package, th·∫≠m ch√≠ t·ª´ module kh√°c ho√†n to√†n n·∫øu b·∫°n import n√≥.</p> <p>ƒê√¢y l√† ki·ªÉu vi·∫øt ph·ªï bi·∫øn nh·∫•t khi b·∫°n mu·ªën chia s·∫ª logic gi·ªØa nhi·ªÅu module. Nh∆∞ng n√≥ c≈©ng gi·ªëng nh∆∞ b·∫°n m·ªü c·ª≠a nh√† v√† m·ªùi m·ªçi ng∆∞·ªùi v√¥ :V.</p> <p>C√≤n C√≤n <code>entry</code> fun th√¨ l√† m·ªôt ki·ªÉu ƒë·∫∑c bi·ªát. H√†m c√≥ entry ch·ªâ ƒë∆∞·ª£c g·ªçi tr·ª±c ti·∫øp t·ª´ transaction ‚Äî t·ª©c l√† t·ª´ m·ªôt Programmable Transaction Block (PTB). Frontend c√≥ th·ªÉ g·ªçi, v√≠ c√≥ th·ªÉ g·ªçi.</p> <p>T·∫•t nhi√™n m·ªôt entry function v√£n c√≥ th·ªÉ g·ªçi b·ªüi c√°c Move functions kh√°c trong c√πng module <div class="language-text highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>module a::m {
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    entry fun foo(): u64 { 0 }
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    fun calls_foo(): u64 { foo() } // valid!
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>}
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>module a::n {
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    fun calls_m_foo(): u64 {
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        a::m::foo() // ERROR!
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>//      ^^^^^^^^^^^ &#39;foo&#39; is internal to &#39;a::m&#39;
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>    }
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>}
</span></code></pre></div></p> <p>Nh∆∞ng trong module kh√°c th√¨ kh√¥ng ƒë∆∞·ª£c ph√©p wrap ho·∫∑c g·ªçi l·∫°i h√†m ƒë√≥. ƒêi·ªÅu n√†y c·ª±c k·ª≥ quan tr·ªçng khi b·∫°n vi·∫øt nh·ªØng logic nh·∫°y c·∫£m nh∆∞ randomness, mint NFT, ho·∫∑c b·∫•t k·ª≥ th·ª© g√¨ c√≥ th·ªÉ b·ªã l·ª£i d·ª•ng n·∫øu ng∆∞·ªùi kh√°c wrap l·∫°i h√†m c·ªßa b·∫°n v√† th·ª≠ ch·∫°y tr∆∞·ªõc. </p> <p>M·ªôt chi ti·∫øt n·ªØa l√† <code>entry</code> th∆∞·ªùng ƒëi chung v·ªõi <code>&amp;mut TxContext</code> </p> <p>Nh∆∞ng entry kh√¥ng ph·∫£i kh√¥ng c√≥ gi·ªõi h·∫°n. V√¨ ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n cho h·ªá th·ªëng s·∫Ω c√≥ m·ªôt s·ªë quy t·∫Øc sau. </p> <h2 id=42-rule-rang-buoc-rieng-cua-sui-oi-voi-entry>4.2 Rule r√†ng bu·ªôc ri√™ng c·ªßa Sui ƒë·ªëi v·ªõi entry<a class=headerlink href=#42-rule-rang-buoc-rieng-cua-sui-oi-voi-entry title="Permanent link">&para;</a></h2> <ul> <li> <p>Ch·ªâ ƒë∆∞·ª£c return c√°c ki·ªÉu c√≥ drop ability (ƒë·ªÉ Sui ƒë·∫£m b·∫£o kh√¥ng leak object ownership)</p> </li> <li> <p>Ngo√†i ra, n·∫øu b·∫°n d√πng m·ªôt object n√†o ƒë√≥ trong entry fun, b·∫°n kh√¥ng ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng l·∫°i object ƒë√≥ trong m·ªôt non-entry kh√°c trong c√πng PTB. ƒêi·ªÅu n√†y gi√∫p Sui tr√°nh ƒë∆∞·ª£c vi·ªác c√πng m·ªôt object b·ªã x·ª≠ l√Ω trong hai context kh√°c nhau.</p> </li> </ul> <h3 id=43-no-public-entry-only-public-or-entry>4.3 No public entry, Only public or entry<a class=headerlink href=#43-no-public-entry-only-public-or-entry title="Permanent link">&para;</a></h3> <p>N·∫øu b·∫°n vi·∫øt code nh∆∞ th·∫ø n√†y: </p> <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>// ‚ùå Sai: d√πng `entry` kh√¥ng c·∫ßn thi·∫øt, v√¨ kh√¥ng b·∫Øt bu·ªôc ƒë·ªÉ g·ªçi h√†m t·ª´ transaction
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>public entry fun do_something() { /* ... */ }
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>// ‚úÖ ƒê√∫ng: d√πng `public` th√¥i l√† ƒë·ªß ‚Äî v·ª´a g·ªçn, l·∫°i cho ph√©p return gi√° tr·ªã public 
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>fun do_something_2(): T { /* ... */ }
</span></code></pre></div> <br> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../move_101_module_4/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../move_101_module_4/ class="btn btn-xs btn-link"> N·ªôi dung cho Module 4 - move 101 </a> </div> <div class=wm-article-nav> <a href=../move_101_module_2/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../move_101_module_2/ class="btn btn-xs btn-link"> Move 101 module 2 </a> </div> </div> <br> </div> <div class=giscus-wrapper> <div class=giscus></div> <script src=https://giscus.app/client.js data-repo=hien-p/hari-docs data-repo-id=R_kgDOPQrn9w data-category=Announcements data-category-id=DIC_kwDOPQrn984CtVCd data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async>
  </script> </div> <!-- <footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer> --> </body> </html>