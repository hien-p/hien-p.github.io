<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><link href=https://hien-p.github.io/hari-docs/collections/Layer_1/Everything%20that%20Sui%20devs%20have%20to%20know/Move%20101/move_101_module_3/ rel=canonical><link rel="shortcut icon" href=../../../../../img/favicon.ico><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>Advanced Smart Contract â€“ Modules, Entry Functions &amp; Practice - Harry's Blog</title><link href=../../../../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../../../../css/font-awesome-4.7.0.css rel=stylesheet><link href=../../../../../css/base.css rel=stylesheet><link rel=stylesheet href=../../../../../css/highlight.css><link href=../../../../../css/custom.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><!-- mkdocs_windmill/partials/scripts.html --><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-S5RMPC6VZL"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-S5RMPC6VZL');
</script><script src=../../../../../js/jquery-3.2.1.min.js></script><script src=../../../../../js/bootstrap-3.3.7.min.js></script><script src=../../../../../js/highlight.pack.js></script><base target=_top><script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Advanced Smart Contract \u2013 Modules, Entry Functions \u0026amp; Practice", url: "#_top", children: [
          ]},
          {title: "N\u1ed9i dung ch\u00ednh:", url: "#noi-dung-chinh", children: [
          ]},
          {title: "1. Review l\u1ea1i n\u1ed9i dung h\u1ecdc tu\u1ea7n tr\u01b0\u1edbc", url: "#1-review-lai-noi-dung-hoc-tuan-truoc", children: [
          ]},
          {title: "2. V\u1eady package l\u00e0 g\u00ec ?", url: "#2-vay-package-la-gi", children: [
              {title: "2.1 Package Layout", url: "#21-package-layout" },
              {title: "2.2 Manifest Structure( Move.toml ): Config file trong sui move contract", url: "#22-manifest-structure-movetoml-config-file-trong-sui-move-contract" },
          ]},
          {title: "3. Modules trong Sui l\u00e0 g\u00ec ?", url: "#3-modules-trong-sui-la-gi", children: [
              {title: "3.1 T\u1eeb kho\u00e1 use - c\u00e1ch \u0111\u1ec3 import b\u1ea5t k\u1ef3 module", url: "#31-tu-khoa-use-cach-e-import-bat-ky-module" },
          ]},
          {title: "4. \u200bT\u00ecm hi\u1ec3u Entry Function \u2013 c\u00e1ch t\u01b0\u01a1ng t\u00e1c v\u1edbi contract th\u00f4ng qua call", url: "#4-tim-hieu-entry-function-cach-tuong-tac-voi-contract-thong-qua-call", children: [
              {title: "4.1 S\u1ef1 kh\u00e1c bi\u1ec7t gi\u1eefa public v\u00e0 entry trong Sui Move", url: "#41-su-khac-biet-giua-public-va-entry-trong-sui-move" },
              {title: "4.2 Rule r\u00e0ng bu\u1ed9c ri\u00eang c\u1ee7a Sui \u0111\u1ed1i v\u1edbi entry", url: "#42-rule-rang-buoc-rieng-cua-sui-oi-voi-entry" },
          ]},
        ];

    </script><script src=../../../../../js/base.js></script><script src=../../../../../search/main.js></script><meta property=og:title content="Harry's Blog - Developer Documentation Technical Writer ğŸš€"><meta property=og:description content="Há»c Blockchain dá»… hiá»ƒu, dÃ nh cho dev Web3"><meta property=og:image content=https://harriweb3.dev/assets/facebook_cover.png><meta property=og:type content=website><meta content=https://harriweb3.dev/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Harry's Blog - Developer Documentation Technical Writer ğŸš€ "><meta name=twitter:description content="Há»c Blockchain dá»… hiá»ƒu, dÃ nh cho dev Web3 má»›i vÃ o nghá»!"><meta name=twitter:image content=https://harriweb3.dev/assets/facebook_cover.png><link rel=stylesheet href=../../../../../css/extra.css></head> <body> <script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script> <div class="container-fluid wm-page-content"> <a name=_top></a> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../move_101_module_4/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../move_101_module_4/ class="btn btn-xs btn-link"> Ná»™i dung cho Module 4 - move 101 </a> </div> <div class=wm-article-nav> <a href=../move_101_module_2/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../move_101_module_2/ class="btn btn-xs btn-link"> Move 101 module 2 </a> </div> </div> <h1 id=advanced-smart-contract-modules-entry-functions-practice>Advanced Smart Contract â€“ Modules, Entry Functions &amp; Practice<a class=headerlink href=#advanced-smart-contract-modules-entry-functions-practice title="Permanent link">&para;</a></h1> <p><img alt src="https://images.lumacdn.com/cdn-cgi/image/format=auto,fit=cover,dpr=2,background=white,quality=75,width=300,height=300/event-covers/98/db4a428f-e07b-4685-85f6-116d26448d3a.png"></p> <p>link event: </p> <h1 id=noi-dung-chinh>Ná»™i dung chÃ­nh:<a class=headerlink href=#noi-dung-chinh title="Permanent link">&para;</a></h1> <ul> <li>â€‹Hiá»ƒu rÃµ vai trÃ² vÃ  cáº¥u trÃºc cá»§a Module trong Move</li> </ul> <p>â€‹* TÃ¬m hiá»ƒu Entry Function â€“ cÃ¡ch tÆ°Æ¡ng tÃ¡c vá»›i contract thÃ´ng qua call</p> <p>â€‹* Tá»• chá»©c project chuáº©n theo cáº¥u trÃºc Move.toml vÃ  sources/</p> <p>â€‹* Viáº¿t thÃªm cÃ¡c chá»©c nÄƒng nÃ¢ng cao cho token vÃ  NFT Ä‘Ã£ há»c</p> <h1 id=1-review-lai-noi-dung-hoc-tuan-truoc>1. Review láº¡i ná»™i dung há»c tuáº§n trÆ°á»›c<a class=headerlink href=#1-review-lai-noi-dung-hoc-tuan-truoc title="Permanent link">&para;</a></h1> <p>Slides xem láº¡i buá»•i 2 nghe: <a href=https://x.tusky.io/Zoo9i>https://x.tusky.io/Zoo9i</a> </p> <h1 id=2-vay-package-la-gi>2. Váº­y package lÃ  gÃ¬ ?<a class=headerlink href=#2-vay-package-la-gi title="Permanent link">&para;</a></h1> <p>Theo Ä‘á»‹nh nghÄ©a tá»« documentation:</p> <blockquote> <p>Packages are immutable. After you publish a package object on chain to a network, it lives there forever. You cannot directly change the code of an on-chain</p> </blockquote> <p>NghÄ©a lÃ  má»™t package lÃ  khi Ä‘Æ°á»£c publish trÃªn Blockchain vÃ  Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh lÃ  má»™t address. Trong package cÃ³ thá»ƒ chá»©a má»™t hoáº·c nhiá»u modules.</p> <p><img alt src=../../img/move_101_img/code_org_move.png></p> <p>RiÃªng pháº§n Package, mÃ¬nh sáº½ chia nhá» thÃ nh tá»«ng pháº§n lÃ : </p> <ul> <li>Package Layout: Cáº¥u trÃºc cá»§a package</li> <li>Published Package: CÃ¡c package Ä‘Ã£ Ä‘Æ°á»£c published báº¡n cáº§n lÆ°u Ã½</li> <li>Manifest Structure( Move.toml ): Config file trong sui move contract</li> <li>Artifact</li> </ul> <h2 id=21-package-layout>2.1 Package Layout<a class=headerlink href=#21-package-layout title="Permanent link">&para;</a></h2> <p>Má»™t package sáº½ chá»©a nhiá»u Modules. Trong tá»«ng modules Ä‘Ã³ bao gá»“m functions, types...</p> <p>ÄÃ¢y lÃ  vÃ­ dá»¥ minh hoáº¡ cho má»™t package layout:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>package HELLO_WORLD
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    module a
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        struct A1
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>        fun hello_world()
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    module b
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>        struct B1
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>        fun hello_package()
</span></code></pre></div> <p>Äá»ƒ táº¡o package má»›i, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh CLI Sui move new <name package>. Má»¥c Ä‘Ã­ch cá»§a Move package system lÃ  Ä‘á»ƒ cho phÃ©p cÃ¡c developer cÃ³ thá»ƒ define dá»… dÃ ng nÆ¡i chá»©a cÃ¡c move code, báº¡n cÃ³ thá»ƒ import vÃ  use packages á»Ÿ file move code khÃ¡c.</p> <h2 id=22-manifest-structure-movetoml-config-file-trong-sui-move-contract>2.2 Manifest Structure( Move.toml ): Config file trong sui move contract<a class=headerlink href=#22-manifest-structure-movetoml-config-file-trong-sui-move-contract title="Permanent link">&para;</a></h2> <p>Má»™t thÆ° má»¥c source move package sáº½ luÃ´n cÃ³ <code>Move.toml</code> lÃ  package manifest file bao gá»“m cÃ¡c metadata cho package Ä‘Ã³. File nÃ y vÃ´ cÃ¹ng quan trá»ng vÃ¬ nÃ³ quáº£n lÃ½ cÃ¡c dependencies, Ä‘áº£m báº£o Ä‘Æ°á»£c mÃ´i trÆ°á»ng stable cho move project cá»§a báº¡n vÃ  Ä‘á»ƒ quáº£n lÃ½ project. ÄÃ¢y lÃ  cáº¥u trÃºc cá»§a má»™t package layout:</p> <p><img alt src="https://sui-bootcamp-2024.vercel.app/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fsui_manifest_structure.6ad20e8c.png&w=3840&q=75"></p> <p>Root cá»§a project lÃ  tÃªn folder move project cá»§a báº¡n. Trong folder sáº½ chá»©a cÃ¡c files Ä‘á»ƒ cháº¡y move project. TrÃªn hÃ¬nh báº¡n Ä‘Ã£ tháº¥y cÃ¡c components quan trá»ng <strong>Move.toml, Move.lock vÃ  thÆ° má»¥c sources.</strong></p> <p>Äá»‘i vá»›i <strong>Move.toml</strong> vÃ  <strong>Move.lock</strong> chá»‹u trÃ¡ch nghiá»‡m trong viá»‡c quáº£n lÃ½ cÃ¡c dependencies. CÃ²n trong thÆ° má»¥c <strong>Source</strong> lÃ  nÆ¡i ta tháº¥y cÃ¡c file module.move. CÃ¡c file nÃ y chÃ­nh lÃ  core logic cá»§a move code. NgoÃ i ra, cÃ²n cÃ³ thÆ° má»¥c test. ÄÃ¢y lÃ  nÆ¡i Ä‘á»ƒ báº¡n cÃ³ thá»ƒ viáº¿t test case cho move code cá»§a báº¡n Ä‘áº£m báº£o dá»± Ã¡n cháº¡y nhÆ° kÃ¬ vá»ng vÃ  maintain Ä‘Æ°á»£c cháº¥t lÆ°á»£ng codebase.</p> <p>Cáº¥u trÃºc Ä‘Æ°á»£c thiáº¿t káº¿ giÃºp cho cÃ¡c developer cÃ³ thá»ƒ quáº£n lÃ½ code dá»… hÆ¡n. Tuy nhiÃªn Ä‘Ã¢y chÆ°a honaf toÃ n lÃ  cáº¥u trÃºc Ä‘áº§y Ä‘á»§. NÃ³ cÃ²n thÃªm doc_templates vÃ  examples.</p> <div class="language-rust highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>Your_Move_Project</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=err>â”œâ”€â”€</span><span class=w> </span><span class=n>Move</span><span class=p>.</span><span class=n>toml</span><span class=w>      </span><span class=p>(</span><span class=n>required</span><span class=p>)</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=err>â”œâ”€â”€</span><span class=w> </span><span class=n>Move</span><span class=p>.</span><span class=n>lock</span><span class=w>      </span><span class=p>(</span><span class=n>generated</span><span class=p>)</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=err>â”œâ”€â”€</span><span class=w> </span><span class=n>sources</span><span class=w>        </span><span class=p>(</span><span class=n>required</span><span class=p>)</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=err>â”œâ”€â”€</span><span class=w> </span><span class=n>doc_templates</span><span class=w>  </span><span class=p>(</span><span class=n>optional</span><span class=p>)</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=err>â”œâ”€â”€</span><span class=w> </span><span class=n>examples</span><span class=w>       </span><span class=p>(</span><span class=n>optional</span><span class=p>,</span><span class=w> </span><span class=n>test</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>dev</span><span class=w> </span><span class=n>mode</span><span class=p>)</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=err>â””â”€â”€</span><span class=w> </span><span class=n>tests</span><span class=w>          </span><span class=p>(</span><span class=n>optional</span><span class=p>,</span><span class=w> </span><span class=n>test</span><span class=w> </span><span class=n>mode</span><span class=p>)</span>
</span></code></pre></div> <ul> <li>Move.toml file: ÄÃ¢y lÃ  package manifest (mÃ¬nh khÃ´ng biáº¿t dá»‹ch tiáº¿ng viá»‡t sao nÃªn hiá»ƒu nhÆ° package.json nhÃ©) chá»©a cÃ¡c metadata cáº§n thiáº¿t cho package. CÃ¡c thÃ´ng tin trong package Ä‘Ã³ bao gá»“m</li> </ul> <p><img alt src="https://sui-bootcamp-2024.vercel.app/_next/image?url=%2F_next%2Fstatic%2Fmedia%2FCode_movetoml.9c601b5d.png&w=3840&q=75"></p> <hr> <h1 id=3-modules-trong-sui-la-gi>3. Modules trong Sui lÃ  gÃ¬ ?<a class=headerlink href=#3-modules-trong-sui-la-gi title="Permanent link">&para;</a></h1> <p>á» Sui Move, khi khai bÃ¡o má»™t smart contract, ta sáº½ sá»­ dá»¥ng tá»« khoÃ¡ module, giá»‘ng vá»›i á»Ÿ solidity ta sáº½ cÃ³ tá»« contract. ÄÃ¢y lÃ  syntax khi khai bÃ¡o smart contract</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>module &lt;package_name&gt;::&lt;module_name&gt; { 
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    //module code á»Ÿ Ä‘Ã¢y 
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>}
</span></code></pre></div> <p>NhÆ°ng má»i ngÆ°á»i cÃ³ thá»ƒ set up má»™t module tháº¿ nÃ y cÅ©ng Ä‘Æ°á»£c:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>module &lt;package_name&gt;::&lt;module_name&gt;;
</span></code></pre></div> <p><code>package_name</code> lÃ  tÃªn cá»§a package mÃ  báº¡n Ä‘Ã£ táº¡o. VÃ­ dá»¥ trong lá»‡nh <code>sui move new hello_world</code> thÃ¬ package name sáº½ lÃ  <code>hello_world</code>. CÃ²n <code>module_name</code> sáº½ lÃ  cÃ¡i tÃªn module mÃ  báº¡n Ä‘Ã£ táº¡o trong package.</p> <p>á» Ä‘Ã¢y báº¡n cÅ©ng cÃ³ thá»ƒ xem nhÆ° <code>module</code> lÃ  thÆ° viá»‡n con trong package.</p> <blockquote> <p>TÃ­nh cháº¥t Ä‘Ã³ng gÃ³i (encapsulation) cá»§a module giÃºp cho viá»‡c phÃ¡t triá»ƒn smart contract trá»Ÿ nÃªn module hÃ³a, cÃ³ kháº£ nÄƒng káº¿t há»£p linh hoáº¡t, Ä‘á»“ng thá»i nÃ¢ng cao kháº£ nÄƒng tÃ¡i sá»­ dá»¥ng mÃ£ nguá»“n vÃ  tÃ­nh báº£o máº­t.</p> </blockquote> <h2 id=31-tu-khoa-use-cach-e-import-bat-ky-module>3.1 Tá»« khoÃ¡ use - cÃ¡ch Ä‘á»ƒ import báº¥t ká»³ module<a class=headerlink href=#31-tu-khoa-use-cach-e-import-bat-ky-module title="Permanent link">&para;</a></h2> <p>Trong Sui move, <code>use</code> Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ import báº¥t kÃ¬ module. ÄÃ¢y lÃ  cáº¥u trÃºc cá»§a cÃ¡ch sá»­ dá»¥ng use:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>use &lt;Address/Alias&gt;::&lt;ModuleName&gt;;
</span></code></pre></div> <p>Giáº£i thÃ­ch vá» <code>&lt;Address/Alias&gt;</code> vÃ  <code>&lt;ModuleName&gt;</code>:</p> <ul> <li><code>&lt;Address/Alias&gt;</code> lÃ  nhá»¯ng Ä‘á»‹a chá»‰ cá»§a package cÃ³ chá»©a nhá»¯ng module mÃ  ta muá»‘n dÃ¹ng. ChÃºng ta thá»ƒ sá»­ dá»¥ng alias Ä‘Æ°á»£c Ä‘áº·t trong Move.toml mÃ  Ä‘Ã£ viáº¿t á»Ÿ má»¥c Package manifest. VÃ­ dá»¥: </li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>[addresses]
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>sui = &quot;0x2&quot;
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a># TrÆ°á»›c lÃ  suilend = &quot;0x0&quot; nhÆ°ng giá» package Ä‘Ã£ published rá»“i nÃªn ta cÃ³ thá»ƒ thay tháº¿ thÃ nh
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>suilend = &quot;0xf95b06141ed4a174f239417323bde3f209b972f5930d8521ea38a52aff3a6ddf&quot;
</span></code></pre></div> <ul> <li><code>&lt;ModuleName&gt;</code> Ä‘Æ¡n giáº£n Ä‘áº¡i diá»‡n cho tÃªn cá»§a module Ä‘Ã³.</li> </ul> <p>Sau Ä‘Ã¢y lÃ  má»™t sá»‘ Sui modules mÃ  báº¡n sáº½ thÆ°á»ng sá»­ dá»¥ng:</p> <div class="language-rust highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=p>#</span><span class=w> </span><span class=n>Module</span><span class=w> </span><span class=n>nÃ y</span><span class=w> </span><span class=n>giÃºp</span><span class=w> </span><span class=n>chÃºng</span><span class=w> </span><span class=n>ta</span><span class=w> </span><span class=n>xá»­</span><span class=w> </span><span class=n>lÃ½</span><span class=w> </span><span class=n>liÃªn</span><span class=w> </span><span class=n>quan</span><span class=w> </span><span class=err>Ä‘áº¿</span><span class=n>n</span><span class=w> </span><span class=n>string</span><span class=w> </span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=k>use</span><span class=w> </span><span class=n>std</span><span class=p>::</span><span class=n>string</span><span class=p>;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/move-stdlib/sources/string.move</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=p>#</span><span class=w> </span><span class=n>Module</span><span class=w> </span><span class=n>nÃ y</span><span class=w> </span><span class=n>sáº½</span><span class=w> </span><span class=n>giÃºp</span><span class=w> </span><span class=n>khi</span><span class=w> </span><span class=n>ta</span><span class=w> </span><span class=n>cáº§n</span><span class=w> </span><span class=n>cÃ¡c</span><span class=w> </span><span class=n>chá»©c</span><span class=w> </span><span class=n>nÄƒng</span><span class=w> </span><span class=n>transfer</span><span class=w> </span><span class=n>object</span><span class=w> </span><span class=n>tá»«</span><span class=w> </span><span class=n>má»™t</span><span class=w> </span><span class=n>account</span><span class=w> </span><span class=err>Ä‘áº¿</span><span class=n>n</span><span class=w> </span><span class=n>account</span><span class=w> </span><span class=n>khÃ¡c</span><span class=w> </span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=k>use</span><span class=w> </span><span class=n>sui</span><span class=p>::</span><span class=n>transfer</span><span class=p>;</span><span class=w> </span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/transfer.move</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=p>#</span><span class=w> </span><span class=n>dÃ²ng</span><span class=w> </span><span class=n>dÆ°á»›i</span><span class=w> </span><span class=err>Ä‘Ã¢</span><span class=n>y</span><span class=w> </span><span class=n>giÃºp</span><span class=w> </span><span class=n>cho</span><span class=w> </span><span class=n>viá»‡c</span><span class=w> </span><span class=n>táº¡o</span><span class=w> </span><span class=n>object</span><span class=w> </span><span class=n>trong</span><span class=w> </span><span class=n>module</span><span class=p>.</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=k>use</span><span class=w> </span><span class=n>sui</span><span class=p>::</span><span class=n>object</span><span class=p>;</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/object.move</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=p>#</span><span class=w> </span><span class=err>ÄÃ¢</span><span class=n>y</span><span class=w> </span><span class=n>lÃ </span><span class=w> </span><span class=err>Ä‘</span><span class=n>oáº¡n</span><span class=w> </span><span class=n>import</span><span class=w> </span><span class=n>tá»«</span><span class=w> </span><span class=n>sui</span><span class=w> </span><span class=n>framework</span><span class=p>.</span><span class=w> </span><span class=n>GiÃºp</span><span class=w> </span><span class=n>ta</span><span class=w> </span><span class=n>trong</span><span class=w> </span><span class=n>viá»‡c</span><span class=w> </span><span class=err>Ä‘</span><span class=n>inh</span><span class=w> </span><span class=n>nghÄ©a</span><span class=w> </span><span class=n>cÃ¡c</span><span class=w> </span><span class=n>thÃ´ng</span><span class=w> </span><span class=n>tin</span><span class=w> </span><span class=n>cá»§a</span><span class=w> </span><span class=n>transaction</span><span class=w> </span><span class=n>nhÆ°</span><span class=w> </span><span class=n>lÃ </span><span class=w> </span><span class=err>Ä‘á»‹</span><span class=n>a</span><span class=w> </span><span class=n>chá»‰</span><span class=w> </span><span class=n>cá»§a</span><span class=w> </span><span class=n>sender</span><span class=p>,</span><span class=w> </span><span class=err>Ä‘á»‹</span><span class=n>a</span><span class=w> </span><span class=n>chá»‰</span><span class=w> </span><span class=n>ngÆ°á»i</span><span class=w> </span><span class=n>kÃ½</span><span class=w> </span><span class=o>..</span><span class=p>.</span>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=k>use</span><span class=w> </span><span class=n>sui</span><span class=p>::</span><span class=n>tx_context</span><span class=p>;</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=c1>// https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/tx_context.move</span>
</span></code></pre></div> <p>BÃªn cáº¡nh viá»‡c import má»™t module, Move cho phÃ©p báº¡n import cá»¥ thá»ƒ Ä‘á»‘i tÆ°á»£ng tá»« module bao gá»“m functions vÃ  types. Äiá»u nÃ y há»¯u Ã­ch khi báº¡n chá»‰ muá»‘n má»™t chá»©c nÄƒng cá»§a module, Giáº£m viá»‡c khÃ´ng cáº§n nhá»¯ng Ä‘oáº¡n code khÃ´ng cáº§n thiáº¿t. VÃ­ dá»¥:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>// import function tá»« má»™t module 
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>use sui_bootcamp::module_one::learn; 
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>// import tá»« Learner Type 
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>use sui_bootcamp::module_one::Learner;
</span></code></pre></div> <p>KhÃ´ng chá»‰ tháº¿ Move cho phÃ©p ta import nhiá»u tá»« module hoáº·c package báº±ng cÃ¡ch dÃ¹ng dáº¥u <code>{}</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>// import learn function vÃ  Learner type tá»« module one
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>use sui_bootcamp::module_one::{learn, Learner};
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>// import module vÃ  Learner type
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>use sui_bootcamp::module_one::{Self, Learner};
</span></code></pre></div> <blockquote> <p>LÃ m sao Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» trÃ¹ng tÃªn? (Name conflict) ğŸ‘€ MÃ¬nh Ä‘á»ƒ cÃ¡c báº¡n tÃ¬m cÃ¢u tráº£ lá»i nhÃ© hoáº·c tháº£o luáº­n trong nhÃ³m First Movers </p> </blockquote> <hr> <h1 id=4-tim-hieu-entry-function-cach-tuong-tac-voi-contract-thong-qua-call>4. â€‹TÃ¬m hiá»ƒu Entry Function â€“ cÃ¡ch tÆ°Æ¡ng tÃ¡c vá»›i contract thÃ´ng qua call<a class=headerlink href=#4-tim-hieu-entry-function-cach-tuong-tac-voi-contract-thong-qua-call title="Permanent link">&para;</a></h1> <p>TrÆ°á»›c tiÃªn báº¡n cáº§n hiá»ƒu vá» <strong>Visibility (pháº¡m vi truy cáº­p) trong module</strong>.</p> <p>Má»—i pháº§n tá»­ (member) trong má»™t module Ä‘á»u cÃ³ visibility tá»©c lÃ  má»©c Ä‘á»™ cho phÃ©p truy cáº­p tá»« bÃªn ngoÃ i hay khÃ´ng? Theo máº·c Ä‘á»‹nh trong Sui move, táº¥t cáº£ cÃ¡c member Ä‘á»u lÃ  private nghÄ©a lÃ  anh em chá»‰ Ä‘Æ°á»£c dÃ¹ng trong chÃ­nh module nÆ¡i chÃºng Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a</p> <p>ÄÃ¢y lÃ  vÃ­ dá»¥ cho entry function:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>entry fun mint(ctx: &amp;mut TxContext) {
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    let object = HelloWorldObject {
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>        id: object::new(ctx),
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>        text: string::utf8(b&quot;Hello World!&quot;)
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>    };
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>    transfer::public_transfer(object, tx_context::sender(ctx));
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>}
</span></code></pre></div> <p><code>&amp;mut TxContext</code>chÃ­nh lÃ  biáº¿n tham chiáº¿u cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Æ°á»£c giÃºp cho viá»‡c biáº¿t Ä‘á»‹a chá»‰ sender lÃ  ai Ä‘á»ƒ mint Ä‘Æ°á»£c contract nÃ y. Trong Ä‘Ã³ hÃ m transfer á»Ÿ cuá»‘i function khÃ´ng pháº£i tráº£ vá» báº¥t kÃ¬ giÃ¡ trá»‹ gÃ¬ mÃ  giÃºp store object vÃ o Ä‘á»‹a chá»‰ sender sau khi publish module.</p> <h2 id=41-su-khac-biet-giua-public-va-entry-trong-sui-move>4.1 Sá»± khÃ¡c biá»‡t giá»¯a public vÃ  entry trong Sui Move<a class=headerlink href=#41-su-khac-biet-giua-public-va-entry-trong-sui-move title="Permanent link">&para;</a></h2> <p>Trong Sui Move, hai tá»« khÃ³a <code>public</code> vÃ  <code>entry</code> Ä‘á»u dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a hÃ m cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i tá»« bÃªn ngoÃ i module. NhÆ°ng cÃ¡ch mÃ  chÃºng Ä‘Æ°á»£c gá»i, vÃ  ai Ä‘Æ°á»£c quyá»n gá»i láº¡i khÃ¡c nhau khÃ¡ rÃµ.</p> <p>Khi báº¡n dÃ¹ng <code>public fun</code>, hÃ m Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i tá»« báº¥t ká»³ Ä‘Ã¢u: trong cÃ¹ng module, tá»« module khÃ¡c trong cÃ¹ng package, tháº­m chÃ­ tá»« module khÃ¡c hoÃ n toÃ n náº¿u báº¡n import nÃ³.</p> <p>ÄÃ¢y lÃ  kiá»ƒu viáº¿t phá»• biáº¿n nháº¥t khi báº¡n muá»‘n chia sáº» logic giá»¯a nhiá»u module. NhÆ°ng nÃ³ cÅ©ng giá»‘ng nhÆ° báº¡n má»Ÿ cá»­a nhÃ  vÃ  má»i má»i ngÆ°á»i vÃ´ :V.</p> <p>CÃ²n CÃ²n <code>entry</code> fun thÃ¬ lÃ  má»™t kiá»ƒu Ä‘áº·c biá»‡t. HÃ m cÃ³ entry chá»‰ Ä‘Æ°á»£c gá»i trá»±c tiáº¿p tá»« transaction â€” tá»©c lÃ  tá»« má»™t Programmable Transaction Block (PTB). Frontend cÃ³ thá»ƒ gá»i, vÃ­ cÃ³ thá»ƒ gá»i.</p> <p>Táº¥t nhiÃªn má»™t entry function vÃ£n cÃ³ thá»ƒ gá»i bá»Ÿi cÃ¡c Move functions khÃ¡c trong cÃ¹ng module <div class="language-text highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>module a::m {
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    entry fun foo(): u64 { 0 }
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    fun calls_foo(): u64 { foo() } // valid!
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>}
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>module a::n {
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    fun calls_m_foo(): u64 {
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        a::m::foo() // ERROR!
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>//      ^^^^^^^^^^^ &#39;foo&#39; is internal to &#39;a::m&#39;
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>    }
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>}
</span></code></pre></div></p> <p>NhÆ°ng trong module khÃ¡c thÃ¬ khÃ´ng Ä‘Æ°á»£c phÃ©p wrap hoáº·c gá»i láº¡i hÃ m Ä‘Ã³. Äiá»u nÃ y cá»±c ká»³ quan trá»ng khi báº¡n viáº¿t nhá»¯ng logic nháº¡y cáº£m nhÆ° randomness, mint NFT, hoáº·c báº¥t ká»³ thá»© gÃ¬ cÃ³ thá»ƒ bá»‹ lá»£i dá»¥ng náº¿u ngÆ°á»i khÃ¡c wrap láº¡i hÃ m cá»§a báº¡n vÃ  thá»­ cháº¡y trÆ°á»›c. </p> <p>Má»™t chi tiáº¿t ná»¯a lÃ  <code>entry</code> thÆ°á»ng Ä‘i chung vá»›i <code>&amp;mut TxContext</code> </p> <p>NhÆ°ng entry khÃ´ng pháº£i khÃ´ng cÃ³ giá»›i háº¡n. VÃ¬ Ä‘á»ƒ Ä‘áº£m báº£o an toÃ n cho há»‡ thá»‘ng sáº½ cÃ³ má»™t sá»‘ quy táº¯c sau. </p> <h2 id=42-rule-rang-buoc-rieng-cua-sui-oi-voi-entry>4.2 Rule rÃ ng buá»™c riÃªng cá»§a Sui Ä‘á»‘i vá»›i entry<a class=headerlink href=#42-rule-rang-buoc-rieng-cua-sui-oi-voi-entry title="Permanent link">&para;</a></h2> <ul> <li> <p>Chá»‰ Ä‘Æ°á»£c return cÃ¡c kiá»ƒu cÃ³ drop ability (Ä‘á»ƒ Sui Ä‘áº£m báº£o khÃ´ng leak object ownership)</p> </li> <li> <p>NgoÃ i ra, náº¿u báº¡n dÃ¹ng má»™t object nÃ o Ä‘Ã³ trong entry fun, báº¡n khÃ´ng Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng láº¡i object Ä‘Ã³ trong má»™t non-entry khÃ¡c trong cÃ¹ng PTB. Äiá»u nÃ y giÃºp Sui trÃ¡nh Ä‘Æ°á»£c viá»‡c cÃ¹ng má»™t object bá»‹ xá»­ lÃ½ trong hai context khÃ¡c nhau.</p> </li> </ul> <h3 id=43-no-public-entry-only-public-or-entry>4.3 No public entry, Only public or entry<a class=headerlink href=#43-no-public-entry-only-public-or-entry title="Permanent link">&para;</a></h3> <p>Náº¿u báº¡n viáº¿t code nhÆ° tháº¿ nÃ y: </p> <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>// âŒ Sai: dÃ¹ng `entry` khÃ´ng cáº§n thiáº¿t, vÃ¬ khÃ´ng báº¯t buá»™c Ä‘á»ƒ gá»i hÃ m tá»« transaction
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>public entry fun do_something() { /* ... */ }
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>// âœ… ÄÃºng: dÃ¹ng `public` thÃ´i lÃ  Ä‘á»§ â€” vá»«a gá»n, láº¡i cho phÃ©p return giÃ¡ trá»‹ public 
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>fun do_something_2(): T { /* ... */ }
</span></code></pre></div> <br> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../move_101_module_4/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../move_101_module_4/ class="btn btn-xs btn-link"> Ná»™i dung cho Module 4 - move 101 </a> </div> <div class=wm-article-nav> <a href=../move_101_module_2/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../move_101_module_2/ class="btn btn-xs btn-link"> Move 101 module 2 </a> </div> </div> <br> </div> <div class=giscus-wrapper> <div class=giscus></div> <script src=https://giscus.app/client.js data-repo=hien-p/hari-docs data-repo-id=R_kgDOPQrn9w data-category=Announcements data-category-id=DIC_kwDOPQrn984CtVCd data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async>
  </script> </div> <!-- <footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer> --> </body> </html>