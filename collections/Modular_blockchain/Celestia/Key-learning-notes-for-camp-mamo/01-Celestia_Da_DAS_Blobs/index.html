<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><link href=https://hien-p.github.io/hari-docs/collections/Modular_blockchain/Celestia/Key-learning-notes-for-camp-mamo/01-Celestia_Da_DAS_Blobs/ rel=canonical><link rel="shortcut icon" href=../../../../../img/favicon.ico><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>DA, DAS, and Blobs — Celestia Lesson 📦🧠 - Harry's Blog</title><link href=../../../../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../../../../css/font-awesome-4.7.0.css rel=stylesheet><link href=../../../../../css/base.css rel=stylesheet><link rel=stylesheet href=../../../../../css/highlight.css><link href=../../../../../css/custom.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><!-- mkdocs_windmill/partials/scripts.html --><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-S5RMPC6VZL"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-S5RMPC6VZL');
</script><script src=../../../../../js/jquery-3.2.1.min.js></script><script src=../../../../../js/bootstrap-3.3.7.min.js></script><script src=../../../../../js/highlight.pack.js></script><base target=_top><script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "DA, DAS, and Blobs \u2014 Celestia Lesson \ud83d\udce6\ud83e\udde0", url: "#_top", children: [
          ]},
          {title: "Celestia c\u00f3 th\u1ec3 l\u00e0m cho \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n ?", url: "#celestia-co-the-lam-cho-ung-dung-cua-ban", children: [
          ]},
          {title: "V\u1eady th\u00ec th\u1ebf n\u00e0o g\u1ecdi l\u00e0 Full Stack?", url: "#vay-thi-the-nao-goi-la-full-stack", children: [
          ]},
          {title: "V\u1eady data Availability l\u00e0 g\u00ec?", url: "#vay-data-availability-la-gi", children: [
          ]},
          {title: "What is data availability sampling?", url: "#what-is-data-availability-sampling", children: [
              {title: "\u0026gt; Data Availability Sampling is a technique that empowers light nodes to have guarantees similar to those of full nodes when it comes to data availability.", url: "#data-availability-sampling-is-a-technique-that-empowers-light-nodes-to-have-guarantees-similar-to-those-of-full-nodes-when-it-comes-to-data-availability" },
          ]},
          {title: "Data availability committee l\u00e0 g\u00ec ?", url: "#data-availability-committee-la-gi", children: [
          ]},
          {title: "What is the difference between data availability in celestia and data availability committee?", url: "#what-is-the-difference-between-data-availability-in-celestia-and-data-availability-committee", children: [
          ]},
          {title: "Blobs", url: "#blobs", children: [
              {title: "Ri\u00eang ph\u1ea7n n\u00e0y, c\u1ea3m \u01a1n L2Beat \u0111\u00e3 minh ho\u1ea1 gi\u00fap m\u00ecnh hi\u1ec3u s\u00e2u h\u01a1n v\u1ec1 ph\u1ea7n n\u00e0y.", url: "#rieng-phan-nay-cam-on-l2beat-a-minh-hoa-giup-minh-hieu-sau-hon-ve-phan-nay" },
          ]},
        ];

    </script><script src=../../../../../js/base.js></script><script src=../../../../../search/main.js></script><meta property=og:title content="Harry's Blog - Developer Documentation Technical Writer 🚀"><meta property=og:description content="Học Blockchain dễ hiểu, dành cho dev Web3"><meta property=og:image content=https://harriweb3.dev/assets/facebook_cover.png><meta property=og:type content=website><meta content=https://harriweb3.dev/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Harry's Blog - Developer Documentation Technical Writer 🚀 "><meta name=twitter:description content="Học Blockchain dễ hiểu, dành cho dev Web3 mới vào nghề!"><meta name=twitter:image content=https://harriweb3.dev/assets/facebook_cover.png><link rel=stylesheet href=../../../../../css/extra.css></head> <body> <script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script> <div class="container-fluid wm-page-content"> <a name=_top></a> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../02-mammoth-blocks/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../02-mammoth-blocks/ class="btn btn-xs btn-link"> MAMMOTH BLOCKS = MAMMOTH UNLOCKS </a> </div> <div class=wm-article-nav> <a href=../00-Welcome-to-camp-Mamo/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../00-Welcome-to-camp-Mamo/ class="btn btn-xs btn-link"> Welcome To Camp Mamo! </a> </div> </div> <h1 id=da-das-and-blobs-celestia-lesson>DA, DAS, and Blobs — Celestia Lesson 📦🧠<a class=headerlink href=#da-das-and-blobs-celestia-lesson title="Permanent link">&para;</a></h1> <blockquote> <p>🎯 Target: Học từ chính những nhà sáng lập Celestia — Mustafa, Ismail và John về Data Availability (DA), Data Availability Sampling (DAS), và Blobs. Cùng nhau bóc tách Web3 app thật ra là gì, và làm sao Celestia trao cho bạn full-stack control để tự do xây dựng theo cách của mình.</p> </blockquote> <hr> <p>Bài học này sẽ giúp bạn thấu hiểu kiến trúc bên trong của <strong>Celestia</strong>, đặc biệt là ba yếu tố then chốt: <a href=https://celestia.org/glossary/data-availability><strong>Data Availability</strong></a>, <a href=https://celestia.org/glossary/data-availability-sampling/ ><strong>Data Availability Sampling (DAS)</strong></a>, và <strong>Blobs</strong> </p> <h1 id=celestia-co-the-lam-cho-ung-dung-cua-ban>Celestia có thể làm cho ứng dụng của bạn ?<a class=headerlink href=#celestia-co-the-lam-cho-ung-dung-cua-ban title="Permanent link">&para;</a></h1> <blockquote> <p>"In the academic sense, Celestia provides a highly scalable verifiable data availability layer that allows your application to be built in a way users know they have the data needed to audit correctness."<br> — <em>John, Celestia Labs</em></p> </blockquote> <hr> <p>Và đây là câu hỏi bạn cần tự trả lời sau buổi học:</p> <blockquote> <p><strong>“Full-stack control” trên Celestia thực sự nghĩa là gì đối với developer?</strong><br> <strong>Khó khăn chính khi tự triển khai một Layer 1 blockchain so với xây dựng trên Celestia là gì?</strong></p> </blockquote> <hr> <h1 id=vay-thi-the-nao-goi-la-full-stack>Vậy thì thế nào gọi là Full Stack?<a class=headerlink href=#vay-thi-the-nao-goi-la-full-stack title="Permanent link">&para;</a></h1> <p><strong>Full stack control</strong> nghĩa là mình có thể tạo applications cho bản thân bằng bất kì ngôn ngữ lập trình nào mình muốn. Bạn cũng có thể tự xây dựng mô hình tạo doanh thu (revenue) cho ứng dụng đó. </p> <p>Nếu so sánh với Ethereum hay Solana, bạn sẽ thấy mình bị giới hạn ở một số khía cạnh nhất định. Ví dụ, trên Ethereum bạn bắt buộc phải sử dụng EVM và ngôn ngữ Solidity.</p> <p><a href=https://celestia.org/what-is-celestia/ >Celestia</a> cho phép bạn custom hoá full-stack, tức là từ A đến Z muốn chỉnh gì trong hạ tầng cũng được. Bạn có thể tự build và deploy những ứng dụng unstoppable. Từ tầng consensus (ai xác thực), đến data availability (dữ liệu có sẵn cho ai và như thế nào), tới cả execution environment (VM)</p> <p>Nói tóm lại bạn có thể hiểu <strong>key Features của Celestia</strong> nằm ở <strong>Modular Design</strong> bằng cách các dev có thể tự thiết kế execution layer sao cho khớp với nhu cầu ứng dụng của mình. </p> <p>Hay nói đúng hơn là <strong>Developer Freedom</strong>, Điều này mở ra một không gian phát triển cực kỳ linh hoạt.</p> <h1 id=vay-data-availability-la-gi>Vậy data Availability là gì?<a class=headerlink href=#vay-data-availability-la-gi title="Permanent link">&para;</a></h1> <p>Data Availability (DA) trả lời cho câu hỏi cực kỳ quan trọng:</p> <blockquote> <p>“Dữ liệu của block này đã được công bố public hay chưa?”</p> <p>"It’s the property that, in a blockchain network, the data of the block — meaning the transactions inside the block — has been fully published to the network."<br> — <em>Ismail, Celestia</em></p> </blockquote> <p>Nói đơn giản, Data Availability (DA) là đảm bảo rằng toàn bộ dữ liệu trong một block đặc biệt là các giao dịch bên trong đã được công bố công khai và đầy đủ cho toàn mạng lưới.</p> <p><img alt src=https://celestia.org/images/app/what-is-celestia/celestia-data-availability.png></p> <p>Trong các ứng dụng web2 truyền thống, việc xử lý và lưu trữ dữ liệu quy mô lớn là điều tất yếu. Để đáp ứng điều đó, các công ty cloud như AWS, Google Cloud hay Azure đã xây dựng những server warehouses khổng lồ để đảm bảo dữ liệu luôn sẵn sàng cho mọi tác vụ.</p> <p>Một tình huống tương tự đang diễn ra với blockchain. Nhưng thay vì lưu trữ đơn thuần, blockchain cần đảm bảo rằng <strong>dữ liệu giao dịch được công bố một cách công khai và có thể xác minh được</strong>. Đây chính là lý do vì sao <strong>Data Availability trở thành một trong những điểm nghẽn nghiêm trọng nhất trong việc mở rộng blockchain</strong> đặc biệt là với các giải pháp như <strong>rollups hay layer 2s</strong>.</p> <blockquote> <p>What is the Data Availability Problem? </p> </blockquote> <p>Rollups giúp mở rộng quy mô blockchain bằng cách giữ phần dữ liệu trên-chain ở L1, trong khi đẩy phần thực thi (execution) xuống L2 cho nhẹ gánh. Tuy nhiên, vì dữ liệu vẫn cần được post lên L1, nên băng thông dữ liệu của L1 trở thành điểm nghẽn. Muốn scale mạnh, chúng ta buộc phải nâng thông lượng dữ liệu (data throughput) ở L1.</p> <p>Hãy tưởng tượng flow sau:</p> <ol> <li>Một <strong>publisher</strong> post dữ liệu lên mạng, kèm theo một <strong>commitment</strong> đại diện cho dữ liệu đó (có thể là Merkle root, KZG commitment, etc.), ký hiệu là <strong>C</strong>.</li> <li>Commitment C được lan truyền đến các <strong>validator</strong> trong mạng.</li> <li>Các validator chạy hàm <strong>isAvailable(C)</strong> để check xem dữ liệu có available không (có đủ, không bị mất, không bị giữ lại…).</li> </ol> <p>Vấn đề ở chỗ <strong>làm sao để validator biết chắc là có thể tải hết toàn bộ dữ liệu, mà không thực sự phải tải hết?</strong></p> <p><img alt src=https://images.mirror-media.xyz/publication-images/gnSl-IhLjgkWV6L8wC1tv.png></p> <p>Nếu thiếu DA, các block producers hoặc validators có thể xuất bản block mà không công khai toàn bộ dữ liệu bên trong. Điều này tạo ra rủi ro cực lớn gọi là <a href=https://celestia.org/glossary/data-withholding-attack><strong>data withholding attack</strong></a>. Khi đó: </p> <ul> <li>Các node không thể sync lên trạng thái mới</li> <li>Ứng dụng có thể bị dừng hoạt động</li> <li>Nghiêm trọng hơn, kẻ tấn công có thể rút tiền hoặc thao túng hệ thống</li> </ul> <p><img src=https://api.typefully.com/media-p/8db4eb99-a7c8-497d-a021-e2390f88572d/ alt></p> <p>Vấn đề này phổ biến trong các giải pháp L2 như rollups hay validiums. Với rollups hoặc các blockchain layer 2, DA sẽ đóng vai trò <strong>cầu nối bảo mật (security anchor)</strong> về layer 1 hoặc base layer. Bằng cách publishing full transaction data lên base layer như Ethereum hoặc Celestia, các rollups có thể đảm bảo rằng mọi giao dịch đều có thể được kiểm chứng và khôi phục bất cứ lúc nào.</p> <hr> <blockquote> <p>Sự khác biệt giữa Data Storage và Data Availability trong blockchain. </p> </blockquote> <p>Mục tiêu của data storage là để mình lưu trữ lâu dài để có thể truy cập lại khi cần, kể cả các block cũ. Trong khi Data Availability, người dùng không cần truy xuất quá khứ mà chỉ cần xác minh dữ liệu mới nhất (ví dụ: Block 5).Đảm bảo <strong>toàn bộ dữ liệu trong block mới được công bố đúng và đầy đủ tại thời điểm phát hành.</strong></p> <p><img alt src=https://celestia.org/images/app/what-is-da/DA-vs-DS.png></p> <hr> <p>Nói tóm lại thì Celestia cung cấp một DA layer <strong>đủ lớn và đủ rẻ</strong> để giải quyết điểm nghẽn mở rộng cho các rollup và dApp. Thay vì phải lo gánh nặng chi phí để công bố dữ liệu lên Ethereum hay các L1</p> <p>Celestia làm được điều đó nhờ công nghệ <strong>Data Availability Sampling (DAS)</strong> cho phép các light node (máy nhẹ) vẫn có thể xác minh rằng toàn bộ dữ liệu trong block đã được công bố đầy đủ.</p> <h1 id=what-is-data-availability-sampling>What is data availability sampling?<a class=headerlink href=#what-is-data-availability-sampling title="Permanent link">&para;</a></h1> <hr> <blockquote> <p>How does Data Availability Sampling (DAS) benefit light nodes on Celestia?</p> </blockquote> <p>Trước đó bạn sẽ cần hiểu chút <strong>về cơ chế đồng thuận của Ethereum</strong>, <strong>phân biệt được Full node và Light node</strong>, <strong>Rõ được khái niệm Data Availability hay còn gọi là Data Publicatio</strong> trong context là Rollup.</p> <h2 id=data-availability-sampling-is-a-technique-that-empowers-light-nodes-to-have-guarantees-similar-to-those-of-full-nodes-when-it-comes-to-data-availability>&gt; Data Availability Sampling is a technique that empowers light nodes to have guarantees similar to those of full nodes when it comes to data availability.<a class=headerlink href=#data-availability-sampling-is-a-technique-that-empowers-light-nodes-to-have-guarantees-similar-to-those-of-full-nodes-when-it-comes-to-data-availability title="Permanent link">&para;</a></h2> <p>Data Availability Sampling không dựa vào “niềm tin” vào validator nữa. <strong>Data availability sampling (DAS)</strong> là một cơ chế giúp <strong>light nodes</strong> xác minh tính sẵn có của dữ liệu mà không cần phải tải toàn bộ dữ liệu của một block. Light node sẽ thực hiện nhiều vòng sampling ngẫu nhiên. Mỗi vòng sampling chỉ kiểm tra một phần nhỏ dữ liệu trong block. Càng sampling nhiều, node càng tự tin rằng dữ liệu của block đang thực sự tồn tại.</p> <p>Trong thiết kế blockchain như <strong>Celestia</strong>, cơ chế DAS giúp light nodes không chỉ đọc dữ liệu hiệu quả mà còn góp phần bảo mật và mở rộng mạng lưới, với chi phí phần cứng rẻ hơn nhiều so với full nodes.</p> <p><img alt src=https://celestia.org/images/app/what-is-celestia/celestia-data-availability-sampling.png></p> <p>Cách hoạt động của DAS rất thông minh: * Publisher sẽ đăng tải dữ liệu dưới dạng đã được erasure-coded * Các validator sẽ randomly sampling để chọn ngẫu nhiên một số phần nhỏ trong dữ liệu và thử tải về. * Nếu các phần được sample đều tải về thành công thì kết luận rằng toàn bộ block đó có thể được khôi phục, tức là dữ liệu available.</p> <p><img alt src=https://images.mirror-media.xyz/publication-images/QzwNY9aYVslhvYUhWIZij.png></p> <p>DAS có thể detect được <strong>data withholding</strong>. Giả sử kẻ xấu (publisher gian lận) định giấu dữ liệu. Để thực hiện được kiểu tấn công này, họ <strong>phải giấu hơn một nửa lượng data</strong>. Vì nếu chỉ có dưới 50% bị mất, thì các validator vẫn có thể <strong>khôi phục toàn bộ dữ liệu gốc từ phần còn lại</strong> nhờ erasure coding.</p> <p>Giờ hãy tưởng tượng validator chạy DAS:</p> <ul> <li>Nếu dữ liệu bị giấu một phần lớn thì có khả năng sampling sẽ thất bại và DAS phát hiện bất thường.</li> <li>Nếu sampling thành công nhiều lần → có cơ sở để tin rằng toàn bộ dữ liệu đã được public</li> </ul> <p><img alt src=https://images.mirror-media.xyz/publication-images/fUWthyRjkieCZFNZm1jh8.png></p> <p>Giả sử một <strong>validator</strong> thực hiện <strong>n lần sampling</strong> – tức là thử tải về ngẫu nhiên n mảnh dữ liệu khác nhau.</p> <p>Nếu kẻ xấu đang <strong>giấu hơn một nửa dữ liệu</strong>, thì <strong>mỗi lần sampling có 50% khả năng</strong> trúng ngay vào phần bị giấu.</p> <p>Vậy xác suất để <strong>không phát hiện gì sau n lần sampling</strong> sẽ là:<br> → (&frac12;)^n</p> <p>Tức là <strong>xác suất phát hiện được gian lận (data withholding)</strong> là:<br> → 1 - (&frac12;)^n</p> <p>🔍 Với chỉ <strong>n = 20</strong>, xác suất này đã lên tới ~<strong>99.9999%</strong> – gần như là chắc cú.</p> <blockquote> <p>Nói cách khác: chỉ cần một light node chạy 20 lần sampling là gần như <strong>bắt bài ngay</strong> nếu có ai đó định giấu data.</p> </blockquote> <p>Lợi ích của DAS là <strong>Giảm phụ thuộc vào validator</strong> và <strong>dễ mở rộng quy mô</strong>.</p> <p>Bạn có thể xem giải thích nhanh về Availability Sampling (DAS) explainer trong 5 phút: <a href="https://www.youtube.com/watch?v=9Y5rc8OC6yE">https://www.youtube.com/watch?v=9Y5rc8OC6yE</a></p> <p>Mình có ví dụ. Bạn có hai đồng xu.</p> <ul> <li>Một đồng luôn luôn ra mặt ngửa (heads)</li> <li>Một đồng ra ngửa hoặc sấp (heads/tails) với xác suất 50/50</li> </ul> <p>Giờ mình đưa bạn một trong hai đồng đó, nhưng không nói là đồng nào. Làm sao để bạn biết mình đang cầm đồng nào? </p> <blockquote> <p>Đơn giản: cứ tung nhiều lần là biết.</p> </blockquote> <p>Nên càng tung mà thấy toàn ra ngửa, bạn càng có cơ sở tin rằng mình đang cầm đồng đặc biệt đó. Tung khoảng 20 lần, nếu vẫn ra ngửa hoài, thì bạn đã gần như chắc chắn 99.9999% là đang cầm đồng xu gì. Và đây chính là cách Data Availability Sampling (DAS) hoạt động.</p> <p>Trong blockchain, có hai loại block:</p> <ul> <li>Block đầy đủ dữ liệu (tương đương với đồng “ra ngửa-only”)</li> <li>Block thiếu dữ liệu (giống như đồng 50/50 – có thể lừa bạn bất cứ lúc nào)</li> </ul> <p>Khi một block producer (người tạo block) gửi block cho bạn, bạn cần xác định liệu block này có thật sự đầy đủ dữ liệu hay không. Làm sao biết được? Bạn sampling block đó nhiều lần cũng giống như bạn tung xu.</p> <p><img alt src="https://pbs.twimg.com/media/FaYc4nQXwAUCDpD?format=jpg&name=medium"></p> <h1 id=data-availability-committee-la-gi><a href=https://celestia.org/glossary/data-availability-committee>Data availability committee</a> là gì ?<a class=headerlink href=#data-availability-committee-la-gi title="Permanent link">&para;</a></h1> <p>Data Availability Committees (DACs) là những bên được ủy thác (trusted parties) để đảm nhiệm vai trò <strong>cung cấp hoặc xác nhận tính sẵn có của dữ liệu (data availability)</strong>. Trong một số hệ thống, DAC có thể được dùng thay thế cho, hoặc kết hợp cùng với <strong>Data Availability Sampling (DAS).</strong></p> <p>Mức độ bảo mật của DAC phụ thuộc vào cách bạn thiết kế nó. Ví dụ, Ethereum hiện đang sử dụng các nhóm validator được chọn ngẫu nhiên (randomly sampled) để xác nhận data availability cho các light node đây cũng là một dạng biến thể của DAC.</p> <p>Trong một số mô hình <strong>Validium</strong>, DAC đóng vai trò là nhóm node đáng tin cậy có nhiệm vụ <strong>lưu trữ bản sao dữ liệu ở chế độ offchain</strong>. Khi có tranh chấp xảy ra, DAC phải công khai dữ liệu để giải quyết vấn đề. Các thành viên DAC thường phải đăng tải cam kết (attestation) on-chain để chứng minh rằng dữ liệu đã sẵn sàng.</p> <h1 id=what-is-the-difference-between-data-availability-in-celestia-and-data-availability-committee>What is the difference between data availability in celestia and data availability committee?<a class=headerlink href=#what-is-the-difference-between-data-availability-in-celestia-and-data-availability-committee title="Permanent link">&para;</a></h1> <p>It is basicallly is who the participants of nodes attesting to the data availabe. </p> <blockquote> <p>what is the fundamental difference in trust assumptions between a Data Availability Committee (DAC) and a Data Availability Layer like Celestia?</p> </blockquote> <p>Trong quá trình phát triển blockchain scalable, một câu hỏi lớn thường được đặt ra: “Liệu chúng ta có thể chỉ chọn một cơ chế đảm bảo tính sẵn sàng dữ liệu hoặc Committee, hoặc Data Availability Sampling (DAS) thay vì phải kết hợp cả hai?”</p> <p>Câu trả lời hợp lý nhất lại chính là cả hai đều cần thiết. Cùng bóc tách lý do tại sao không nên chỉ dựa vào committee, và cũng không thể hoàn toàn chỉ dùng DAS.</p> <p><strong>Khi chỉ dùng Committee</strong>: bạn chọn ra một nhóm node có trách nhiệm “bảo chứng” rằng dữ liệu trong một block là đã được công bố và ai cũng có thể truy cập. Tuy nhiên, việc đặt niềm tin vào một nhóm người dù là validator, trusted party hay stake-based cũng đồng nghĩa với việc chấp nhận rủi ro. Nếu phần lớn committee đồng ý với một block sai hoặc bị tấn công để làm vậy thì <strong>hệ thống không còn cách nào để kiểm tra độc lập</strong> xem dữ liệu đó là thật hay giả.</p> <p>Một vấn đề khác là ngưỡng đồng thuận (threshold): bạn phải đặt ra tỷ lệ bao nhiêu phần trăm committee cần chấp thuận dữ liệu để chain chấp nhận nó. Nếu đặt ngưỡng cao, thì khi số validator online giảm (do lỗi mạng, tấn công, downtime), hệ thống sẽ bị tê liệt. Nếu ngưỡng thấp, thì attacker chỉ cần làm sập một số node là có thể dễ dàng điều khiển phần còn lại để đưa dữ liệu giả vào.</p> <p>Còn <strong>khi chỉ dùng DAS</strong>: DAS cho phép bất kỳ ai trong mạng (dù là light node) cũng có thể sampling một phần nhỏ dữ liệu trong block để tự xác minh rằng toàn bộ block đó là hợp lệ. Nhưng DAS, ít nhất là ở thời điểm hiện tại, vẫn là công nghệ rất mới và còn đang phát triển. Nhiều thành phần của nó mới chỉ được đề xuất và thử nghiệm trong vài năm gần đây. </p> <p>Một bất lợi khác là <strong>độ trễ (latency)</strong>: DAS cần nhiều bước sampling và kiểm tra phân tán hơn so với việc chỉ chờ một số node đáng tin xác minh. Với các hệ thống yêu cầu thời gian xác nhận cực nhanh, committee vẫn có lợi thế về tốc độ.</p> <h1 id=blobs><a href=https://l2beat.com/glossary#blobs>Blobs</a><a class=headerlink href=#blobs title="Permanent link">&para;</a></h1> <hr> <h2 id=rieng-phan-nay-cam-on-l2beat-a-minh-hoa-giup-minh-hieu-sau-hon-ve-phan-nay>Riêng phần này, cảm ơn <a href=https://l2beat.com/ >L2Beat</a> đã minh hoạ giúp mình hiểu sâu hơn về phần này.<a class=headerlink href=#rieng-phan-nay-cam-on-l2beat-a-minh-hoa-giup-minh-hieu-sau-hon-ve-phan-nay title="Permanent link">&para;</a></h2> <p>Để giải thích thì <strong>Blobs</strong> là <strong>dữ liệu mà một rollup công bố lên Layer 1 hoặc lớp Data Availability (DA) của nó</strong>. Dữ liệu này bao gồm các giao dịch L2 đã được “cuộn lại” (rolled up), kèm theo một số metadata liên quan.</p> <p>Blobs được giới thiệu như một loại giao dịch mới trên Ethereum thông qua đề xuất <strong>EIP-4844</strong>, với mục tiêu chính là tăng khả năng mở rộng cho rollups.</p> <p>Điểm đặc biệt là blobs không tồn tại vĩnh viễn mà được lưu trữ một cách tạm thời trên Beacon Chain của Ethereum, đủ lâu để đảm bảo tính khả dụng dữ liệu (data availability), nhưng không cần giữ lâu dài như các dữ liệu lưu trữ truyền thống.</p> <p>Trên <strong>Celestia</strong>, blobs là <strong>dữ liệu do người dùng gửi lên, nhưng không làm thay đổi trạng thái của blockchain (non-state-altering data)</strong>.</p> <p>Mỗi blob gồm hai thành phần chính:</p> <ol> <li><strong>Phần dữ liệu gốc (raw bytes)</strong>: một đối tượng nhị phân chứa nội dung thực tế do người dùng cung cấp.</li> <li><strong>Namespace</strong>: định danh cho <strong>ứng dụng cụ thể</strong> mà blob này thuộc về. Điều này cho phép nhiều ứng dụng khác nhau cùng sử dụng chung Celestia mà vẫn tách biệt dữ liệu một cách rõ ràng.</li> </ol> <p>Với thiết kế này, <strong>Celestia không chỉ đóng vai trò là DA layer có khả năng mở rộng</strong>, mà còn là <strong>data publishing layer</strong> cho các ứng dụng modular: từ rollups, games, đến các AI agent hay ứng dụng mạng xã hội phi tập trung.</p> <p><img alt src=https://l2beat.com/images/da-layer-technology/celestia/blobs.png#center></p> <p>Tất cả dữ liệu được đăng lên Celestia dưới dạng <strong>blob</strong> sẽ được chia nhỏ thành các phần có kích thước cố định, gọi là <strong>shares</strong>.</p> <p>Mỗi <strong>blob</strong> được sắp xếp thành một ma trận <strong>kích thước k × k</strong>, với <strong>k hiện tại là 64</strong>, tức là mỗi blob gồm tổng cộng <strong>4096 shares</strong>.</p> <p><img alt src=https://l2beat.com/images/da-layer-technology/celestia/blobs-matrix.png#center></p> <p>Các hàng và cột của ma trận shares sẽ được mã hoá bằng kỹ thuật <a href=https://en.wikipedia.org/wiki/Erasure_code><strong>erasure coding</strong></a>, nhằm tạo thêm dữ liệu dư thừa phục vụ cho việc khôi phục (recovery). </p> <p>Kết quả là, ta có một ma trận mới <strong>kích thước 2k × 2k, tức 128 × 128 shares, đủ để hỗ trợ Data Availability Sampling (DAS)</strong> hiệu quả.</p> <p>Để đảm bảo tính xác minh (verifiability), toàn bộ ma trận sau khi erasure-code sẽ được cam kết (committed) bằng một cấu trúc cây Merkle đặc biệt có tên là <strong>Namespaced Merkle Tree (NMT)</strong>.</p> <p>Khác với Merkle tree thông thường, trong NMT:</p> <ul> <li>Mỗi <strong>node</strong> trong cây không chỉ chứa hash của con mà còn lưu thêm <strong>phạm vi namespace</strong> bao trùm tất cả node con của nó.</li> <li>Điều này cho phép các ứng dụng truy vấn chính xác blob thuộc namespace riêng của mình, mà không cần xử lý toàn bộ cây.</li> <li>Đồng thời vẫn giữ nguyên các tính năng như inclusion proof hay range proof tương tự Merkle tree truyền thống</li> </ul> <p><img alt src=https://l2beat.com/images/da-layer-technology/celestia/matrix-proofs.png#center></p> <p>Cuối cùng, từ các <strong>root của từng hàng và cột</strong> trong ma trận erasure-coded, Celestia tính toán ra một data root duy nhất, gọi là <strong>availableDataRoot</strong>.</p> <p>Đây chính là gốc của <strong>cây Merkle tổng thể</strong>, dùng để cam kết toàn bộ dữ liệu đã được chia nhỏ, mã hoá và tổ chức trong block. Root này sẽ được đưa vào <strong>block header</strong>, <strong>đóng vai trò như chứng thực (commitment) cho toàn bộ dữ liệu dạng share trong ma trận.</strong></p> <p>Nhờ đó, bất kỳ share nào trong ma trận đều có thể được chứng minh (prove) là một phần hợp lệ của block data, bằng cách dẫn ngược lên từ leaf → row/column root → availableDataRoot.</p> <p><img alt src=https://l2beat.com/images/da-layer-technology/celestia/data-root.png#center></p> <p>Để đảm bảo <strong>data availability (Dữ liệu thực sự tồn tại và ai cũng có thể truy cập)</strong>, Celestia cho phép <strong>light node (kiểu node nhẹ, không cần lưu toàn bộ dữ liệu)</strong> thực hiện một kỹ thuật gọi là sampling trên một ma trận dữ liệu siêu to khổng lồ cụ thể là ma trận 2k x 2k (chính xác là 2,048 x 2,048 ô dữ liệu).</p> <p>Mỗi light node sẽ <strong>random chọn vài tọa độ bất kỳ trong ma trận mở rộng đó</strong>, sau đó yêu cầu dữ liệu tương ứng cùng với Merkle proof (bằng chứng dữ liệu không bị chỉnh sửa) từ full node. Hiện tại, để “chốt kèo” rằng một block dữ liệu có sẵn, <strong>mỗi light node phải thực hiện ít nhất 16 lần sampling.</strong> Nếu block có vấn đề (thiếu dữ liệu), với xác suất 99%, light node sẽ phát hiện ra điều đó trong quá trình sampling. Ta có thể đọc kỹ hơn trong paper <a href=https://arxiv.org/pdf/1809.09044> Fraud and Data Availability Proofs</a></p> <p><img alt src=https://l2beat.com/images/da-layer-technology/celestia/das.png#center></p> <br> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../02-mammoth-blocks/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../02-mammoth-blocks/ class="btn btn-xs btn-link"> MAMMOTH BLOCKS = MAMMOTH UNLOCKS </a> </div> <div class=wm-article-nav> <a href=../00-Welcome-to-camp-Mamo/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../00-Welcome-to-camp-Mamo/ class="btn btn-xs btn-link"> Welcome To Camp Mamo! </a> </div> </div> <br> </div> <div class=giscus-wrapper> <div class=giscus></div> <script src=https://giscus.app/client.js data-repo=hien-p/hari-docs data-repo-id=R_kgDOPQrn9w data-category=Announcements data-category-id=DIC_kwDOPQrn984CtVCd data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async>
  </script> </div> <!-- <footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer> --> </body> </html>