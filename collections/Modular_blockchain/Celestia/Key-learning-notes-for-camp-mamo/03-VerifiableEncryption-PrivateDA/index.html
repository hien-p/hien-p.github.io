<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><link href=https://hien-p.github.io/hari-docs/collections/Modular_blockchain/Celestia/Key-learning-notes-for-camp-mamo/03-VerifiableEncryption-PrivateDA/ rel=canonical><link rel="shortcut icon" href=../../../../../img/favicon.ico><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>VERIFIABLE ENCRYPTION &amp; PRIVATE Data trên Celestia - Harry's Blog</title><link href=../../../../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../../../../css/font-awesome-4.7.0.css rel=stylesheet><link href=../../../../../css/base.css rel=stylesheet><link rel=stylesheet href=../../../../../css/highlight.css><link href=../../../../../css/custom.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]--><!-- mkdocs_windmill/partials/scripts.html --><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-S5RMPC6VZL"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-S5RMPC6VZL');
</script><script src=../../../../../js/jquery-3.2.1.min.js></script><script src=../../../../../js/bootstrap-3.3.7.min.js></script><script src=../../../../../js/highlight.pack.js></script><base target=_top><script>
      var base_url = '../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "VERIFIABLE ENCRYPTION \u0026amp; PRIVATE Data tr\u00ean Celestia", url: "#_top", children: [
          ]},
          {title: "C\u00e1c kh\u00e1i ni\u1ec7m c\u1ed1t l\u00f5i m\u00e0 b\u1ea1n c\u1ea7n n\u1eafm (Core Concepts)", url: "#cac-khai-niem-cot-loi-ma-ban-can-nam-core-concepts", children: [
          ]},
          {title: "Private Data Availability (PDA) l\u00e0 g\u00ec?", url: "#private-data-availability-pda-la-gi", children: [
          ]},
          {title: "C\u1ed1t l\u00f5i c\u1ee7a PDA: Verifiable Encryption (VE)", url: "#cot-loi-cua-pda-verifiable-encryption-ve", children: [
          ]},
          {title: "Ki\u1ebfn tr\u00fac PDA Proxy", url: "#kien-truc-pda-proxy", children: [
          ]},
          {title: "C\u00e1c use cases", url: "#cac-use-cases", children: [
          ]},
          {title: "Example Architecture: How VE + PDA Work Together", url: "#example-architecture-how-ve-pda-work-together", children: [
          ]},
          {title: "Example dApps", url: "#example-dapps", children: [
          ]},
          {title: "Reference", url: "#reference", children: [
          ]},
        ];

    </script><script src=../../../../../js/base.js></script><script src=../../../../../search/main.js></script><meta property=og:title content="Harry's Blog - Developer Documentation Technical Writer 🚀"><meta property=og:description content="Học Blockchain dễ hiểu, dành cho dev Web3"><meta property=og:image content=https://harriweb3.dev/assets/facebook_cover.png><meta property=og:type content=website><meta content=https://harriweb3.dev/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Harry's Blog - Developer Documentation Technical Writer 🚀 "><meta name=twitter:description content="Học Blockchain dễ hiểu, dành cho dev Web3 mới vào nghề!"><meta name=twitter:image content=https://harriweb3.dev/assets/facebook_cover.png><link rel=stylesheet href=../../../../../css/extra.css></head> <body> <script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script> <div class="container-fluid wm-page-content"> <a name=_top></a> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../04-Bridges/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../04-Bridges/ class="btn btn-xs btn-link"> Bridges </a> </div> <div class=wm-article-nav> <a href=../02-mammoth-blocks/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../02-mammoth-blocks/ class="btn btn-xs btn-link"> MAMMOTH BLOCKS = MAMMOTH UNLOCKS </a> </div> </div> <h1 id=verifiable-encryption-private-data-tren-celestia>VERIFIABLE ENCRYPTION &amp; PRIVATE Data trên Celestia<a class=headerlink href=#verifiable-encryption-private-data-tren-celestia title="Permanent link">&para;</a></h1> <blockquote> <p>“Privacy matters. But so does verifiability.” — Celestia Labs</p> </blockquote> <p><img alt src=../images/Ve.png></p> <h1 id=cac-khai-niem-cot-loi-ma-ban-can-nam-core-concepts>Các khái niệm cốt lõi mà bạn cần nắm (Core Concepts)<a class=headerlink href=#cac-khai-niem-cot-loi-ma-ban-can-nam-core-concepts title="Permanent link">&para;</a></h1> <p>Dưới đây là danh sách các khái niệm kỹ thuật quan trọng liên quan đến Private Data Availability trên Celestia. Bạn nên tra cứu sâu hơn từng thuật ngữ để hiểu rõ cơ chế và ứng dụng của nó.</p> <ul> <li> <p><strong>Private Data Availability (PDA)</strong>: Cơ chế cho phép bạn publish encrypted data lên Celestia DA layer và vẫn prove data availability (chứng minh dữ liệu tồn tại và có thể truy xuất) mà không cần công khai nội dung.</p> </li> <li> <p><strong>Verifiable Encryption (VE)</strong>: Kỹ thuật prove claims/properties about encrypted data (chứng minh tính đúng/sai liên quan đến dữ liệu mã hoá) without decrypting it.</p> </li> <li> <p><strong>zkVM (Zero-Knowledge Virtual Machine)</strong>: Một máy ảo có thể prove that a program ran correctly (chứng minh chương trình chạy đúng) mà không lộ input/output.</p> </li> <li> <p><strong>PDA Proxy</strong>: Middleware đứng giữa app và Celestia, giúp auto-handle encryption/decryption (tự động mã hoá/giải mã dữ liệu) trước khi gửi lên DA layer.</p> </li> <li> <p><strong>ChaCha20</strong>: High-performance stream cipher (thuật toán mã hoá dòng) mạnh và nhẹ, phù hợp cho môi trường zkVM.</p> </li> <li> <p><strong>Data Fingerprinting (Hash Commitments)</strong>: Sử dụng cryptographic hash để tạo ra commitment cho một đoạn dữ liệu.</p> </li> </ul> <blockquote> <p>Bạn có thể tra cứu các cụm từ khóa trên trong tài liệu Celestia Docs, GitHub repo, hoặc ZKPrimer để hiểu rõ hơn. Đây là foundational building blocks cho mọi ứng dụng cần privacy + verifiability.</p> </blockquote> <h1 id=private-data-availability-pda-la-gi>Private Data Availability (PDA) là gì?<a class=headerlink href=#private-data-availability-pda-la-gi title="Permanent link">&para;</a></h1> <p>Blockchains truyền thống vốn minh bạch theo mặc định — mọi giao dịch, mọi trạng thái đều hiển thị công khai. Điều này rất tốt cho tính phi tập trung và auditability, nhưng lại là rào cản lớn cho những ứng dụng cần sự riêng tư như <strong>DEX riêng tư</strong>, <strong>Data marketplaces</strong>, <strong>Encrypted messaging</strong>....</p> <p>Như vậy Private Data Availability (PDA) cho phép devs đăng dữ liệu <strong>đã mã hoá lên Celestia</strong>, nhưng vẫn có thể chứng minh rằng dữ liệu đó <strong>thật sự tồn tại và ai cũng có thể truy xuất được</strong> (mặc dù chưa thể đọc nội dung).</p> <p><a href="https://docs.google.com/document/d/1XZyuOxdMm5INcHwQZOZ8ALRk_YkvicNwQHSfOVs8hoM/edit?tab=t.0#heading=h.dtwabt1t9yhe">Nói tóm lại thì muốn tạo ra một nơi credibly neutral trung lập theo cách mà ai cũng tin được để phục vụ cho việc Data Availability (DA) một cách công khai, minh bạch, nhưng đồng thời vẫn có khả năng chọn lọc ai được đọc nội dung bên trong.</a></p> <p>Vì bất kỳ ai cũng có thể truy cập được dữ liệu, nên ta cần một cách để định nghĩa điều kiện nào cho phép đọc được nội dung đó (gọi là selective disclosure tiết lộ chọn lọc).</p> <p>Với một mạng DA phi tập trung như Celestia, bất kỳ giao thức nào cần truy cập dữ liệu đều có đảm bảo chắc chắn rằng khi dữ liệu đã được publish thì không bên nào có thể che giấu hoặc giữ lại nó (retrievability guarantee) – ít nhất là trong một khoảng thời gian nhất định.</p> <p>Thêm nữa, nhờ vào cơ chế Data Availability Sampling (DAS), bất kỳ ai cũng có thể xác minh một cách ngắn gọn rằng dữ liệu đã thực sự được công bố mà không cần phải download toàn bộ dữ liệu gốc.</p> <h1 id=cot-loi-cua-pda-verifiable-encryption-ve>Cốt lõi của PDA: Verifiable Encryption (VE)<a class=headerlink href=#cot-loi-cua-pda-verifiable-encryption-ve title="Permanent link">&para;</a></h1> <p>Trong mã hoá truyền thống, ciphertext (dữ liệu đã mã hoá) không tiết lộ gì về plaintext (dữ liệu gốc). Điều này đảm bảo quyền riêng tư tuyệt đối( privacy)nhưng lại tạo ra một cái “trust bottleneck” là bạn phải hoàn toàn tin tưởng người giữ key giải mã sẽ không chơi xấu.</p> <p>Nhưng nếu mình không muốn đặt niềm tin mù quáng vào người cầm key thì sao? <strong>Có cách nào để chuyển một phần niềm tin đó sang cơ chế có thể verify công khai?</strong></p> <p>VE tạo ra khả năng này bằng cách áp dụng các ràng buộc (constraints) lên:</p> <ul> <li>chính plaintext</li> <li>thuật toán encryption algorithm</li> <li>và encryption key</li> </ul> <p>Nhờ đó, ai cũng có thể xác minh rằng dữ liệu được mã hoá tuân thủ một số điều kiện cụ thể mà không cần biết dữ liệu đó là gì.</p> <p>Khi kết hợp với Verifiable Encryption (VE) tức là kỹ thuật mã hoá cho phép chứng minh những điều đúng/sai liên quan tới dữ liệu mã hoá mà không cần giải mã. Chúng ta sẽ vẫn giữa được bí mật mà vẫn chứng minh tính hợp lệ.</p> <p>Thay vì chỉ mã hoá đơn thuần, VE cho phép bạn “cam kết” rằng ciphertext đang chứa một nội dung thỏa mãn điều kiện nào đó — ví dụ như khớp với một hash cụ thể, hoặc chứa một giá trị nằm trong tập giá trị được chấp nhận — và tất cả điều đó được chứng minh qua một bằng chứng không tiết lộ gì về nội dung thực tế bên trong.</p> <blockquote> <p>Bằng chứng này được sinh bởi zkVM và ai cũng có thể verify mà không cần giải mã dữ liệu</p> </blockquote> <h1 id=kien-truc-pda-proxy>Kiến trúc PDA Proxy<a class=headerlink href=#kien-truc-pda-proxy title="Permanent link">&para;</a></h1> <p>Để triển khai nhanh chóng PDA, Celestia Labs xây dựng một <strong>proxy middleware</strong> cho các ứng dụng:</p> <ul> <li>Là cầu nối giữa app của bạn và Celestia node</li> <li>Tự động mã hoá dữ liệu + sinh bằng chứng zk khi upload</li> <li>Tự động giải mã khi truy xuất (nếu có khoá)</li> <li>Sử dụng <strong>zkVM prover network (hiện tại là Succinct)</strong> để xử lý các bằng chứng VE</li> </ul> <blockquote> <p>Dev chỉ cần gọi proxy thay vì node Celestia trực tiếp vì tất cả quy trình mã hoá, sinh chứng cứ, upload được xử lý ở backend</p> </blockquote> <table> <thead> <tr> <th>Tiêu chí</th> <th>Encryption thông thường</th> <th>Verifiable Encryption (VE)</th> </tr> </thead> <tbody> <tr> <td>Mục đích chính</td> <td>Bảo vệ nội dung khỏi người ngoài</td> <td>Bảo vệ nội dung <strong>và</strong> chứng minh thuộc tính dữ liệu</td> </tr> <tr> <td>Ai có thể xác minh</td> <td>Chỉ người có khóa</td> <td>Bất kỳ ai (dựa trên bằng chứng zk)</td> </tr> <tr> <td>Chứng minh nội dung đúng</td> <td>❌ Không thể</td> <td>✅ Có thể chứng minh thuộc tính cụ thể của dữ liệu</td> </tr> <tr> <td>Lộ thông tin dữ liệu gốc</td> <td>Không (nếu bảo mật tốt)</td> <td>Không (bằng zero-knowledge proof)</td> </tr> <tr> <td>Phù hợp với use case nào</td> <td>Lưu trữ riêng tư, không cần chứng minh</td> <td>DEX, data marketplace, zk-identity, whistleblowing...</td> </tr> <tr> <td>Yêu cầu tính toán zk proof</td> <td>❌ Không</td> <td>✅ Có, cần zkVM hoặc prover system</td> </tr> <tr> <td>Triển khai trên blockchain</td> <td>Dữ liệu được mã hoá và đăng onchain</td> <td>Ciphertext + zk proof được đăng onchain</td> </tr> </tbody> </table> <h1 id=cac-use-cases>Các use cases<a class=headerlink href=#cac-use-cases title="Permanent link">&para;</a></h1> <ul> <li>Ví dụ đầu tiên là Data Marketplace</li> </ul> <p>Một người bán muốn bán một bức ảnh có độ phân giải cao. Trước khi người mua thanh toán, họ cần biết chắc chắn rằng file được mã hoá là đúng ảnh đó, nhưng không muốn tiết lộ ảnh. </p> <p>Vậy thì chúng ta có <code>VE</code> sẽ giúp cam kết rằng ciphertext chứa đúng file với hash H(x) mà không giải mã.</p> <ul> <li>Hoặc ví dụ như Decentralized Uber</li> </ul> <p>Người dùng cần gọi xe mà không tiết lộ vị trí công khai. PDA proxy sẽ mã hoá thông tin vị trí + đính kèm fingerprint thanh toán vù tài xế có thể xác minh &amp; nhận lệnh ride nếu đồng ý.</p> <ul> <li>ví dụ khác nữa là Perps DEX &amp; Emergency Recovery: Celestia Labs cũng đang làm việc cùng một DEX có nhu cầu đặc biệt: lưu thông tin người dùng một cách riêng tư, nhưng phải có khả năng khôi phục trong tình huống khẩn cấp. Toàn bộ thông tin người dùng được mã hoá và lưu lên Celestia thông qua PDA Proxy. Trong trường hợp bình thường, không ai có thể đọc được dữ liệu. Nhưng nếu xảy ra sự cố hệ thống, khóa giải mã sẽ được công khai thông qua một cơ chế emergency fallback (có thể là MPC, threshold key release hoặc multisig recovery), giúp người dùng tự rút tiền khỏi giao thức mà không phụ thuộc vào team dự án.</li> </ul> <p>Đến đây bạn sẽ đặt câu hỏi <strong>PDA Proxy có thể dùng cho những ai?</strong></p> <p><img alt src=../images/dApp_privacy.png></p> <p>Bất kỳ ai đang xây dựng ứng dụng có tính chất nhạy cảm về dữ liệu đều có thể tích hợp PDA Proxy từ DEX, encrypted off-chain storage, messaging app, đến data DAO hay decentralized Uber. Một số use case rất phù hợp như:</p> <ul> <li>Tin nhắn được đảm bảo đã gửi, nhưng không ai đọc được ngoài người nhận</li> <li>Trao đổi dữ liệu giữa Web2 với Web3 qua Celestia làm “invisible pipe”</li> <li> <p>Gửi location tạm thời trong decentralized ride-sharing mà vẫn giữ bí mật</p> </li> <li> <p>Một ví dụ điển hình là dự án Stock0 từ hackathon họ đã tạo ra một media marketplace nơi dữ liệu media được mã hoá, người mua chỉ nhận được quyền giải mã khi hoàn tất deal tất cả đều trustless.</p> </li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>flowchart LR
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    Data[&quot;Data to be Sold&quot;] --&gt; zkVM_Algo[&quot;zkVM(transform media)&quot;]
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    zkVM_Algo -- &quot;proven data transform w/ VE anchor&quot; --&gt; Contract[&quot;Marketplace on &lt;dApp chain&gt;&quot;]
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    Data -- &quot;VE data&quot; --&gt; Celestia[&quot;Celestia&quot;]
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    Celestia -- &quot;header&quot; --&gt; Blobstream[&quot;Blobstream on &lt;dApp chain&gt;&quot;]
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    Blobstream &lt;-- &quot;verify VE anchor and DA&quot; --&gt; Contract
</span></code></pre></div> <h1 id=example-architecture-how-ve-pda-work-together>Example Architecture: How VE + PDA Work Together<a class=headerlink href=#example-architecture-how-ve-pda-work-together title="Permanent link">&para;</a></h1> <p>Ở kiến trúc mẫu này, the anchor đóng vai trò trung tâm một cầu nối (bridge) giữa bất kỳ protocol nào và một chứng minh (proof) rằng dữ liệu riêng tư nào đó đã được công khai một cách có thể kiểm chứng được.</p> <p><img alt src=https://github.com/celestiaorg/pda-proxy/raw/main/doc/assets/verifiable-encryption.drawio.svg></p> <h1 id=example-dapps>Example dApps<a class=headerlink href=#example-dapps title="Permanent link">&para;</a></h1> <ul> <li> <p>Private rollups/apps with (partial) obfuscation. Wrap your fav kit: Rollkit, OP, Nitro, …</p> </li> <li> <p>Verifiable Backups recover from "disaster": </p> </li> </ul> <h1 id=reference>Reference<a class=headerlink href=#reference title="Permanent link">&para;</a></h1> <ol> <li>Github: <a href=https://github.com/celestiaorg/pda-proxy>https://github.com/celestiaorg/pda-proxy</a></li> <li>Private Data Availability on Celestia docs: </li> <li>Slide Verifiable Encryption event: <a href=https://hackmd.io/@Nuke/SyHBUsdWlg#/ >https://hackmd.io/@Nuke/SyHBUsdWlg#/</a></li> </ol> <br> <div class="row wm-article-nav-buttons" role=navigation aria-label=navigation> <div class="wm-article-nav pull-right"> <a href=../04-Bridges/ class="btn btn-xs btn-default pull-right"> Next <i class="fa fa-chevron-right" aria-hidden=true></i> </a> <a href=../04-Bridges/ class="btn btn-xs btn-link"> Bridges </a> </div> <div class=wm-article-nav> <a href=../02-mammoth-blocks/ class="btn btn-xs btn-default pull-left"> <i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a><a href=../02-mammoth-blocks/ class="btn btn-xs btn-link"> MAMMOTH BLOCKS = MAMMOTH UNLOCKS </a> </div> </div> <br> </div> <div class=giscus-wrapper> <div class=giscus></div> <script src=https://giscus.app/client.js data-repo=hien-p/hari-docs data-repo-id=R_kgDOPQrn9w data-category=Announcements data-category-id=DIC_kwDOPQrn984CtVCd data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async>
  </script> </div> <!-- <footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer> --> </body> </html>